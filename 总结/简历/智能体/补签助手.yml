app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: å‘˜æœAI è¡¥ç­¾åŠ©æ‰‹
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: aisphere/card_message:0.0.1@cf86c1e65c4a3277e6dd0b5f28095202e2c0c715ba6a3b1a16ef87c464cacc8b
- current_identifier: null
  type: package
  value:
    plugin_unique_identifier: aisphere/ole:0.3.55@018e983139e03c0ea1fc6d0c816f8387519f1141f87e2078bb4b4f49d9e098e9
kind: app
version: 0.3.0
workflow:
  conversation_variables:
  - description: attendance_month
    id: f632e9f2-5fb4-46ac-9668-b4a58b0656d9
    name: attendance_month
    selector:
    - conversation
    - attendance_month
    value: ''
    value_type: string
  environment_variables:
  - description: ''
    id: 34292c48-6fa2-4923-84e6-b8a93f7f1a02
    name: WELCOME_WORDS
    selector:
    - env
    - WELCOME_WORDS
    value: æˆ‘æ˜¯è¯·å‡åŠ©ç†ï¼Œä½ å¯ä»¥è¯´ã€æˆ‘è¦æŸ¥çœ‹5æœˆä»½çš„å¼‚å¸¸ã€‘æˆ–ã€æˆ‘è¦è¡¥ç­¾2024å¹´3æœˆ4æ—¥18:30ã€‘
    value_type: string
  - description: ''
    id: 6ed4e50f-06f5-4686-a5f7-59a01f67ef85
    name: TT_INDEX_URL
    selector:
    - env
    - TT_INDEX_URL
    value: https://hr-uat.oasqa.com/mobile/workbench/cardApply/flow
    value_type: string
  - description: ''
    id: 8499c6d6-0054-4407-b713-113c0a18bfaa
    name: TT_APP_ID
    selector:
    - env
    - TT_APP_ID
    value: '14139'
    value_type: string
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 100
        batch_count_limit: 5
        file_size_limit: 100
        image_file_size_limit: 20
        video_file_size_limit: 200
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    long_term_memory:
      enabled: false
      memory_duration: 30
      memory_prompt: ''
    opening_statement: æˆ‘æ˜¯ä½ çš„æ™ºèƒ½è¡¥ç­¾åŠ©æ‰‹ï¼Œéšæ—¶ä¸ºä½ æœåŠ¡ã€‚ä½ å¯ä»¥å¯¹æˆ‘è¯´ä»¥ä¸‹å†…å®¹ï¼š
    opening_statement_en: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions:
    - æˆ‘è¦æŸ¥çœ‹å½“æœˆçš„è€ƒå‹¤å¼‚å¸¸
    - æˆ‘æƒ³äº†è§£ä¸Šä¸ªæœˆçš„è€ƒå‹¤å¼‚å¸¸
    - æˆ‘è¦è¡¥ç­¾2025å¹´3æœˆ4æ—¥18:30ï¼Œå¿˜è®°æ‰“å¡
    suggested_questions_after_answer:
      enabled: false
    suggested_questions_en: []
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1747365948220-source-1747366048295-target
      selected: false
      source: '1747365948220'
      sourceHandle: source
      target: '1747366048295'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1747366048295-source-1747360998680-target
      selected: false
      source: '1747366048295'
      sourceHandle: source
      target: '1747360998680'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1747388022630-source-1747365948220-target
      selected: false
      source: '1747388022630'
      sourceHandle: source
      target: '1747365948220'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17491765566980--1749177514685-target
      selected: false
      source: '17491765566980'
      sourceHandle: source
      target: '1749177514685'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1749182329355--1749182350552-target
      selected: false
      source: '1749182329355'
      sourceHandle: source
      target: '1749182350552'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17491765566980-source-17491968542370-target
      selected: false
      source: '17491765566980'
      sourceHandle: source
      target: '17491968542370'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1749630385506-source-1747388022630-target
      selected: false
      source: '1749630385506'
      sourceHandle: source
      target: '1747388022630'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: tool
      id: 1746774995615--1749632749725-target
      selected: false
      source: '1746774995615'
      sourceHandle: source
      target: '1749632749725'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1749177514685-source-1750042027050-target
      selected: false
      source: '1749177514685'
      sourceHandle: source
      target: '1750042027050'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: code
      id: 17491968542370-source-1750042027050-target
      selected: false
      source: '17491968542370'
      sourceHandle: source
      target: '1750042027050'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1750042027050-source-1750042992562-target
      selected: false
      source: '1750042027050'
      sourceHandle: source
      target: '1750042992562'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: question-classifier
      id: 1750042992562-true-1749633917418-target
      selected: false
      source: '1750042992562'
      sourceHandle: 'true'
      target: '1749633917418'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1750042992562-9465c300-8ebb-45ea-984b-2f7f5f4d02b8-1750043010634-target
      selected: false
      source: '1750042992562'
      sourceHandle: 9465c300-8ebb-45ea-984b-2f7f5f4d02b8
      target: '1750043010634'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: tool
      id: 1749633917418-1750124149986-1749182256468-target
      selected: false
      source: '1749633917418'
      sourceHandle: '1750124149986'
      target: '1749182256468'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17491765566980-source-1750141342617-target
      selected: false
      source: '17491765566980'
      sourceHandle: source
      target: '1750141342617'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1750141342617-source-1750042027050-target
      selected: false
      source: '1750141342617'
      sourceHandle: source
      target: '1750042027050'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1750042992562-6b34266a-a0b0-44c9-8fd2-f8d5c14085e2-17501415130980-target
      selected: false
      source: '1750042992562'
      sourceHandle: 6b34266a-a0b0-44c9-8fd2-f8d5c14085e2
      target: '17501415130980'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1749182256468-source-1749182329355-target
      selected: false
      source: '1749182256468'
      sourceHandle: source
      target: '1749182329355'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 1749632749725-source-17491765566980-target
      selected: false
      source: '1749632749725'
      sourceHandle: source
      target: '17491765566980'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 17508209761800--1750821313433-target
      selected: false
      source: '17508209761800'
      sourceHandle: source
      target: '1750821313433'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1750821313433--1750822947375-target
      selected: false
      source: '1750821313433'
      sourceHandle: source
      target: '1750822947375'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1750822947375-true-1750822870797-target
      selected: false
      source: '1750822947375'
      sourceHandle: 'true'
      target: '1750822870797'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1749630967270-source-1749630385506-target
      selected: false
      source: '1749630967270'
      sourceHandle: source
      target: '1749630385506'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1750822947375-false-1750840888051-target
      selected: false
      source: '1750822947375'
      sourceHandle: 'false'
      target: '1750840888051'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: code
      id: 1749633917418-1-1750820074014-target
      selected: false
      source: '1749633917418'
      sourceHandle: '1'
      target: '1750820074014'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1750820074014-source-1750823584078-target
      selected: false
      source: '1750820074014'
      sourceHandle: source
      target: '1750823584078'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: tool
      id: 1750823584078-true-17508209761800-target
      selected: false
      source: '1750823584078'
      sourceHandle: 'true'
      target: '17508209761800'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1750823584078-false-1749630967270-target
      selected: false
      source: '1750823584078'
      sourceHandle: 'false'
      target: '1749630967270'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 17508466673850-source-17508466726670-target
      selected: false
      source: '17508466673850'
      sourceHandle: source
      target: '17508466726670'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: llm
      id: 17508466726670-source-17508466791090-target
      selected: false
      source: '17508466726670'
      sourceHandle: source
      target: '17508466791090'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 17508466791090-source-17508466855520-target
      selected: false
      source: '17508466791090'
      sourceHandle: source
      target: '17508466855520'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: code
      id: 1750840888051-source-17508466673850-target
      selected: false
      source: '1750840888051'
      sourceHandle: source
      target: '17508466673850'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 17508466855520-source-17508466906930-target
      selected: false
      source: '17508466855520'
      sourceHandle: source
      target: '17508466906930'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 17508466906930-source-17508466944030-target
      selected: false
      source: '17508466906930'
      sourceHandle: source
      target: '17508466944030'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: assigner
      id: 1749633917418-1750124149986-1750853573301-target
      source: '1749633917418'
      sourceHandle: '1750124149986'
      target: '1750853573301'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 54
      id: '1746774995615'
      position:
        x: 30
        y: 258
      positionAbsolute:
        x: 30
        y: 258
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1747366048295.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 104
      id: '1747360998680'
      position:
        x: 4286
        y: 500
      positionAbsolute:
        x: 4286
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1, ttAppUrl, ttAppId, time } = {}) {\n    let replaceStr\
          \ = '';\n    let data;\n\n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```')\
          \ || arg1.includes('```json') || arg1.includes('\\n```')) {\n        replaceStr\
          \ = extractJson(arg1).replace(/\\n/g, '').replace(/\\\\\"/g, '\"');\n  \
          \  } else {\n        replaceStr = arg1.replace(/\\n/g, '').replace(/\\\\\
          \"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if (isJSON(replaceStr))\
          \ {\n        let dataList = JSON.parse(replaceStr);\n        data = Array.isArray(dataList)\
          \ ? dataList[dataList.length - 1] : dataList;\n    } else {\n        data\
          \ = { \"type\": \"\", \"query\": replaceStr };\n    }\n\n    // è¡¥ç­¾ç±»å‹åˆ¤æ–­é€»è¾‘\n\
          \    let punchInTime = convertDateFormat(time);\n    const punchInCity =\
          \ data['punchInCity'];\n    const punchInCityDescr = data['punchInCityDescr'];\n\
          \n    // ä¿®å¤ç‚¹1ï¼šæ¨¡æ¿å­—ç¬¦ä¸²å’ŒURLç¼–ç \n    const buildBaseUrl = () => `cloudhub://mult?appid=${ttAppId}&pc=${encodeURIComponent(ttAppUrl)}&pcMode=window&windowSize=small`;\n\
          \n    if (!punchInTime || punchInTime == '' || !punchInCity || punchInCity\
          \ == ''|| !punchInCityDescr || punchInCityDescr == '') {\n        return\
          \ {\n            \"result\": JSON.stringify({\n                \"prompt\"\
          : data.errors || \"è¯·è¡¥å……å…·ä½“æ—¥æœŸå’Œæ—¶é—´ï¼Ÿ\",\n                \"cardType\": \"query\"\
          ,\n                \"btnStatus\": false,\n                \"promptStatus\"\
          : true,\n                \"leaveStatus\": false,\n                \"btnTitle\"\
          : \"å‰å¾€GHRç”³è¯·\",\n                \"btnUrl\": buildBaseUrl() // ä½¿ç”¨ç»Ÿä¸€URLæ„å»ºæ–¹æ³•\n\
          \            }),\n            \"type\": 'card'\n        };\n    }\n\n  \
          \  // æ‹†åˆ†æ—¥æœŸå’Œæ—¶é—´\n    let [punchInTimeBefore, punchInTimeAfter] = punchInTime.split('\
          \ ');\n    if (punchInTimeAfter === \"00:00:00\") {\n      punchInTimeAfter\
          \ = \"\";\n      punchInTime = punchInTimeBefore\n    }\n    const reason\
          \ = data['reason'];\n    // ä¿®å¤ç‚¹3ï¼šå®‰å…¨çš„URLå‚æ•°æ„å»º\n    const urlParams = new URLSearchParams({\n\
          \        punchInDate: punchInTimeBefore,\n        punchInTime: punchInTimeAfter,\n\
          \        punchInCity: punchInCity,\n        punchInCityDescr: punchInCityDescr,\n\
          \        punchInRegion: 'CHN',\n        punchInRegionDescr: 'ä¸­å›½',\n    \
          \    reason: reason\n    }).toString();\n\n    // ä¿®å¤ç‚¹4ï¼šé¿å…åŒ&&ç¬¦å·\n    const\
          \ formUrl = `${ttAppUrl}?${urlParams}`;\n    const encodedUrl = encodeURIComponent(formUrl);\n\
          \n    // ä¿®å¤ç‚¹5ï¼šæ­£ç¡®çš„æ¨¡æ¿å­—ç¬¦ä¸²\n    const btnUrl = `cloudhub://mult?appid=${ttAppId}&pc=${encodedUrl}&pcMode=window&windowSize=small&mobileMode=drawerHalf&mobile=${encodedUrl}`;\n\
          \n    return {\n        \"result\": JSON.stringify({\n            \"btnTitle\"\
          : \"å‰å¾€å®Œå–„ä¿¡æ¯\",\n            \"cardType\": \"time\",\n            \"punchInTime\"\
          : punchInTime,\n            \"punchInCity\": punchInCity,\n            \"\
          punchInCityDescr\": punchInCityDescr,\n            \"reason\": reason,\n\
          \            \"btnUrl\": btnUrl,\n            \"promptStatus\": false,\n\
          \            \"leaveStatus\": true,\n            \"prompt\": \"\",\n   \
          \         \"leaveTitle\": \"è¯·ç¡®è®¤è¡¥ç­¾ä¿¡æ¯\",\n            \"leaveDesc\": \"\"\n\
          \        }),\n        \"type\": 'card'\n    };\n\n}\n\n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction\
          \ convertDateFormat(s) { return s.replace(/-/g, '/'); }\nfunction extractJson(str)\
          \ { return (/```(?:json)?\\n([\\s\\S]*?)\\n```/.exec(str) || [,str])[1];\
          \ }\nfunction isJSON(str) { try{ JSON.parse(str); return true } catch(e){\
          \ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
          type:
            children: null
            type: string
        selected: false
        title: æ‰¹é‡è¡¥å¡æ•°æ®å¤„ç†
        type: code
        variables:
        - value_selector:
          - env
          - TT_INDEX_URL
          variable: ttAppUrl
        - value_selector:
          - '1747388022630'
          - text
          variable: arg1
        - value_selector:
          - env
          - TT_APP_ID
          variable: ttAppId
        - value_selector:
          - '1749177514685'
          - result
          variable: time
      height: 54
      id: '1747365948220'
      position:
        x: 3678
        y: 500
      positionAbsolute:
        x: 3678
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: card data
            ja_JP: card data
            pt_BR: card data
            zh_Hans: å¡ç‰‡æ•°æ®
          label:
            en_US: card data
            ja_JP: card data
            pt_BR: card data
            zh_Hans: å¡ç‰‡æ•°æ®
          llm_description: card data to be processed
          max: null
          min: null
          name: card_data
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: card template to be processed
            ja_JP: card template to be processed
            pt_BR: card template to be processed
            zh_Hans: å¡ç‰‡æ¨¡æ¿
          label:
            en_US: card template
            ja_JP: card template
            pt_BR: card template
            zh_Hans: å¡ç‰‡æ¨¡æ¿
          llm_description: card template to be processed
          max: null
          min: null
          name: card_template
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: call back url
            ja_JP: call back url
            pt_BR: call back url
            zh_Hans: å›è°ƒåœ°å€
          label:
            en_US: call back url
            ja_JP: call back url
            pt_BR: call back url
            zh_Hans: å›è°ƒåœ°å€
          llm_description: ''
          max: null
          min: null
          name: call_back_url
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: app id
            ja_JP: app id
            pt_BR: app id
            zh_Hans: åº”ç”¨ID
          label:
            en_US: app id
            ja_JP: app id
            pt_BR: app id
            zh_Hans: åº”ç”¨ID
          llm_description: ''
          max: null
          min: null
          name: app_id
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: env_id
            ja_JP: env_id
            pt_BR: env_id
            zh_Hans: ç¯å¢ƒæ ‡è¯†
          label:
            en_US: env_id
            ja_JP: env_id
            pt_BR: env_id
            zh_Hans: ç¯å¢ƒæ ‡è¯†
          llm_description: ''
          max: null
          min: null
          name: env_id
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          app_id: ''
          call_back_url: ''
          card_data: ''
          card_template: ''
          env_id: ''
        provider_id: aisphere/card_message/card_message
        provider_name: aisphere/card_message/card_message
        provider_type: builtin
        selected: false
        title: æ„å»ºTTå¡ç‰‡æ¶ˆæ¯
        tool_configurations:
          app_id:
            type: constant
            value: null
          call_back_url:
            type: constant
            value: null
          env_id:
            type: constant
            value: null
        tool_label: æ„å»ºTTå¡ç‰‡æ¶ˆæ¯
        tool_name: build
        tool_parameters:
          card_data:
            type: mixed
            value: '{{#1747365948220.result#}}'
          card_template:
            type: mixed
            value: "{\n\t\"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\
              ,\n\t\"type\": \"AdaptiveCard\",\n\t\"body\": [\n\t\t{\n\t\t\t\"_tag\"\
              : \"promptText\",\n\t\t\t\"type\": \"Container\",\n\t\t\t\"spacing\"\
              : \"default\",\n\t\t\t\"isVisible\": \"${promptStatus}\",\n\t\t\t\"\
              items\": [\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"title\",\n\t\t\t\t\t\"\
              spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\
              \t\"text\": \"${prompt}\",\n\t\t\t\t\t\"wrap\": true\n\t\t\t\t}\n\t\t\
              \t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"Container\",\n\t\t\t\"isVisible\"\
              : \"${!promptStatus}\",\n\t\t\t\"spacing\": \"default\",\n\t\t\t\"items\"\
              : [\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"title\",\n\t\t\t\t\t\"spacing\"\
              : \"Medium\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\"size\"\
              : \"Medium\",\n\t\t\t\t\t\"weight\": \"Bolder\",\n\t\t\t\t\t\"maxLines\"\
              : 1,\n\t\t\t\t\t\"text\": \"${leaveTitle}\",\n\t\t\t\t\t\"wrap\": true\n\
              \t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"leaveType\",\n\t\t\t\t\t\
              \"spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"ColumnSet\",\n\t\t\t\
              \t\t\"columns\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\"\
              ,\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\
              \t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\
              \t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\
              \"text\": \"**æ—¶é—´**\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\
              \t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\
              \t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\t\t\t\"items\"\
              : [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\
              \t\t\t\t\t\t\t\t\t\"text\": \"${punchInTime}\"\n\t\t\t\t\t\t\t\t}\n\t\
              \t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\
              \t\t\t\t\"_tag\": \"endTime\",\n\t\t\t\t\t\"spacing\": \"Medium\",\n\
              \t\t\t\t\t\"type\": \"ColumnSet\",\n\t\t\t\t\t\"columns\": [\n\t\t\t\
              \t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\t\t\"verticalContentAlignment\"\
              : \"Center\",\n\t\t\t\t\t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"\
              items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\"\
              ,\n\t\t\t\t\t\t\t\t\t\"text\": \"**åŸå¸‚**\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\
              \t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"\
              Column\",\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\
              \t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"\
              type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\"text\": \"${punchInCityDescr}\"\
              \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\
              \t\t\t},\n                {\n\t\t\t\t\t\"_tag\": \"endTime\",\n\t\t\t\
              \t\t\"spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"ColumnSet\",\n\t\
              \t\t\t\t\"columns\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\"\
              ,\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\
              \t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\
              \t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\
              \"text\": \"**åŸå› **\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\
              \t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\
              \t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\t\t\t\"items\"\
              : [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\
              \t\t\t\t\t\t\t\t\t\"text\": \"${reason}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\
              \t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\
              \t\t\"_tag\": \"text\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\
              \t\"maxLines\": 2,\n\t\t\t\t\t\"text\": \"${leaveDesc}\",\n\t\t\t\t\t\
              \"wrap\": true\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"\
              ActionSet\",\n\t\t\t\"spacing\": \"Medium\",\n\t\t\t\"isVisible\": \"\
              ${btnStatus}\",\n\t\t\t\"actions\": [\n\t\t\t\t{\n\t\t\t\t\t\"style\"\
              : \"positive\",\n\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\
              \"title\": \"${btnTitle}\",\n\t\t\t\t\t\"url\": \"${btnUrl}\"\n\t\t\t\
              \t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"_tag\": \"feet\",\n\t\t\t\"isVisible\"\
              : \"${!promptStatus}\",\n\t\t\t\"type\": \"TextBlock\",\n\t\t\t\"color\"\
              : \"light\",\n\t\t\t\"maxLines\": 2,\n\t\t\t\"text\": \"ä»¥ä¸Šå†…å®¹ç”±æ¬§ä¹è¯†åˆ«å¡«å†™ï¼Œè¯·ç‚¹å‡»æŒ‰é’®å‰å¾€ç¡®è®¤ã€‚\"\
              ,\n\t\t\t\"wrap\": true\n\t\t}\n\t],\n\t\"version\": \"1.4\"\n}"
        type: tool
        version: '2'
      height: 142
      id: '1747366048295'
      position:
        x: 3982
        y: 500
      positionAbsolute:
        x: 3982
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 5
        model:
          completion_params: {}
          mode: chat
          name: AndesGPT-32B
          provider: aisphere/ole/ole
        prompt_template:
        - edition_type: basic
          id: ac1a82d0-b3c8-48aa-bc9b-308d07d8367c
          jinja2_text: ''
          role: system
          text: "# è§’è‰²ä¸ä»»åŠ¡\n\n## Pipelineæ­¥éª¤\n\n### æ­¥éª¤1: æ–‡æœ¬æ ‡å‡†åŒ–\nä½ æ˜¯ä¸€ä¸ªHRä¿¡æ¯å¤„ç†åŠ©æ‰‹ï¼Œè´Ÿè´£ä»ç”¨æˆ·çš„éç»“æ„åŒ–æ–‡æœ¬ä¸­å‡†ç¡®æå–è¡¥ç­¾ä¿¡æ¯ï¼Œæœ€ç»ˆåªè¾“å‡ºJSONå­—å…¸ã€‚è¯·ä¸¥æ ¼éµå¾ªä»¥ä¸‹pipelineæ­¥éª¤ï¼š\n\
            - ä¿®æ­£æ˜æ˜¾çš„é”™åˆ«å­—å’Œç¼©å†™ï¼ˆå¦‚\"è¡¥ç­¾\"â†’\"è¡¥å¡\"ï¼Œï¼‰\n- ç»Ÿä¸€æ—¥æœŸæ ¼å¼ï¼ˆå¦‚\"2024å¹´3æœˆ4æ—¥\"è½¬æ¢ä¸ºå…·ä½“æ—¥æœŸ\"yyyy/MM/dd\
            \ HH:mm:ss\"ï¼‰\n- ç»Ÿä¸€æ—¶é—´æ ¼å¼ï¼ˆå¦‚\"9ç‚¹\"è½¬æ¢ä¸ºå…·ä½“æ—¥æœŸ\"HH:MM\"ï¼‰\n\n### æ­¥éª¤2ï¼šæ—¥æœŸè®¡ç®—å¤„ç†\n-éœ€åŸºäºå½“å‰æ—¥æœŸï¼š{{#1749632749725.text#}}è®¡ç®—å‡ºå‡†ç¡®æ—¶é—´yyyy-mm-dd\n\
            \n### æ­¥éª¤3: è·å–å˜é‡ä¿¡æ¯\n- è¡¥å¡åŸå¸‚ä»{{#1749630385506.text#}}ä¸­è·å–\n- è¡¥å¡æ—¶é—´ä» {{#1749177514685.result#}}ä¸­è·å–\n\
            - è¯·å‡åŸå› ä» {{#sys.query#}}ä¸­æ™ºèƒ½æ€»ç»“ï¼Œåˆ é™¤å¤šä½™å­—æ®µ\n  æ²¡æœ‰åŸå› åˆ™è®¾ç½®ä¸ºç©º\nï¼ˆæ™ºèƒ½è¯†åˆ«ç”¨æˆ·çš„è¯·å‡åŸå› ï¼Œä¸è·å–æ—¶é—´ç›¸å…³ï¼Œä¸è·å–æˆ‘è¦è¡¥ç­¾ç­‰ä¿¡æ¯ï¼Œ\
            \ \n\n### æ­¥éª¤4: å…³é”®ä¿¡æ¯è¯†åˆ«\n- ä»è¯†åˆ«å¹¶æ ‡æ³¨ä»¥ä¸‹å­—æ®µï¼š\n  âœ… è¡¥å¡æ—¶é—´{punchInTime} ï¼ˆç²¾ç¡®åˆ°åˆ†é’Ÿï¼‰\n\
              âœ… è¡¥å¡åŸå¸‚{punchInCity}\n  âœ… è¡¥å¡åŸå¸‚æè¿°{punchInCityDescr}\n  âœ… è¯·å‡åŸå› {reason}(å…³é”®è¯ï¼‰\n\
            \n- æ£€æŸ¥è¯·å‡åŸå› é€»è¾‘(å®Œå…¨æœªæåŠ â†’ æ ‡è®°ä¸º â€™  â€˜)ã€‚\n\n### æ­¥éª¤5ï¼šè¿½é—®æ£€æŸ¥\n- è¡¥ç­¾æ—¶é—´è¿½é—®æ£€æŸ¥é€»è¾‘ï¼šè‹¥è¡¥ç­¾æ—¶é—´ä¸ºnullæˆ–è‹¥è¡¥ç­¾æ—¶é—´ä¸ºnullæˆ–â€œâ€,è¿”å›é”™è¯¯å¹¶è¯¢é—®ç”¨æˆ·ï¼šï¼ˆ\"\
            è¡¥ç­¾éœ€æ˜ç¡®åˆ°æ¯æ—¥å…·ä½“è¡¥ç­¾æ—¶é—´ï¼Œè¯·æ˜ç¡®æ¯æ—¥å®é™…éœ€è¡¥ç­¾çš„æ—¶é—´ï¼Ÿ\"ï¼‰\n\n### æ­¥éª¤6: ç»“æœæ ¼å¼åŒ–\n- ç”Ÿæˆæ ‡å‡†è¡¥ç­¾å•æ ¼å¼ï¼š\n- ä»…è¾“å‡ºæœ€ç»ˆç»“æœçš„JSONç»“æ„åŒ–å­—å…¸,æ ‡å‡†å®ä¾‹ï¼š\n\
              {\n  \"punchInTime\": \"2025/05/30 00:00:00\",\n  \"punchInCity\": \"\
            44190X\",\n  \"punchInCityDescr\": \"ä¸œèå¸‚\",\n  \"reason\": \"\",\n  }\n\
            \n## æ‰§è¡Œè¦æ±‚\n1. å¿…é¡»æŒ‰æ­¥éª¤é¡ºåºæ‰§è¡Œ\n2. å¤±è´¥æ—¶éœ€è¯´æ˜å…·ä½“é—®é¢˜å¹¶åœæ­¢æµç¨‹\n\n##å½“å‰è¡¥ç­¾ä¿¡æ¯ï¼š{{#sys.query#}}\n\
            \n## ä¸¥ä»¤ç¦æ­¢\nè¡¥å¡æ—¶é—´ä»{{#sys.query#}}è·å–\n"
        - id: 4b659be5-0a44-41e4-8951-68e9399804c2
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: æ‰¹é‡è¡¥å¡å‚æ•°æå–
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1747388022630'
      position:
        x: 3374
        y: 500
      positionAbsolute:
        x: 3374
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params: {}
          mode: chat
          name: AndesGPT-32B
          provider: aisphere/ole/ole
        prompt_config:
          jinja2_variables:
          - value_selector:
            - '1749632749725'
            - text
            variable: currentTime
          - value_selector:
            - sys
            - query
            variable: query
        prompt_template:
        - edition_type: jinja2
          id: ac1a82d0-b3c8-48aa-bc9b-308d07d8367c
          jinja2_text: "### æ­¥éª¤1ï¼šæ–‡æœ¬æ ‡å‡†åŒ–\r\nä½ æ˜¯ä¸€ä¸ª HR ä¿¡æ¯å¤„ç†åŠ©æ‰‹ï¼Œè´Ÿè´£ä»å‘˜å·¥æäº¤çš„è¡¥å¡ç”³è¯·ä¸­æå–å…³é”®ä¿¡æ¯ã€‚è¯·æ ¹æ®è¾“å…¥å†…å®¹ï¼Œæå–ä»¥ä¸‹å­—æ®µå¹¶ä»¥\
            \ JSON æ ¼å¼è¾“å‡ºï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\r\n{\r\n  \"punchInTime\": \"2025-05-30 14:00:00\",\r\
            \n  \"month\": \"2025-01\",\r\n  \"city\": \"åŒ—äº¬\",\r\n  \"flag\": true\r\
            \n}\r\n\r\n### æ­¥éª¤2ï¼šæ—¥æœŸè®¡ç®—å¤„ç†\r\n-éœ€åŸºäºå½“å‰æ—¥æœŸï¼š{{ currentTime }}è®¡ç®—å‡ºå‡†ç¡®æ—¶é—´yyyy-mm-dd\
            \ HH:mm:ss\r\n-éœ€åŸºäºå½“å‰æ—¥æœŸï¼š{{ currentTime }}è®¡ç®—å‡ºå‡†ç¡®æœˆä»½mm\r\n\r\n### æ­¥éª¤3ï¼šå­—æ®µè¯´æ˜\r\
            \nå­—æ®µè¯´æ˜å¦‚ä¸‹ï¼š\r\nâœ… è¡¥å¡æ—¶é—´ {punchInTime}ï¼šè¯·æå–å‡ºå…·ä½“çš„è¡¥å¡æ—¶é—´ï¼Œç²¾ç¡®åˆ°åˆ†é’Ÿï¼Œå¹¶æŒ‰ yyyy-MM-dd HH:mm:ss\
            \ æ ¼å¼è¾“å‡ºã€‚å¦‚æœæ—¶é—´ä¸­æœªæ˜ç¡®å¹´ä»½ï¼Œè¯·é»˜è®¤ä½¿ç”¨å½“å‰å¹´ä»½ã€‚å¦‚æœæ–‡ä¸­æåŠäº†æœˆä»½ä½†æœªæ˜ç¡®æ—¥æœŸï¼Œè¯·ç»“åˆä¸Šä¸‹æ–‡{{ query }}æ¨æ–­æˆ–ä½¿ç”¨é»˜è®¤å€¼ä¸ºâ€œ01â€ã€‚\r\
            \nï¼ˆä¾‹å¦‚å½“å‰æ—¶é—´2025å¹´6æœˆ25æ—¥ï¼Œä¸Šæ–‡æåŠæˆ‘æƒ³äº†è§£ä¸Šä¸ªæœˆçš„è€ƒå‹¤å¼‚å¸¸ï¼Œåˆ™æœˆè¡¥å¡æ—¶é—´ä¸º2025-5-25ï¼‰\r\nâœ… æœˆä»½ {month}ï¼šæå–è¡¥å¡æ—¶é—´æ‰€å¯¹åº”çš„æœˆä»½ï¼Œæ ¼å¼ä¸ºâ€œyyyy-MMâ€ã€‚è‹¥ç”¨æˆ·æœªæ˜ç¡®æåŠæœˆä»½ï¼Œä½†æœ‰â€œä¸Šæœˆâ€ã€â€œä¸‹æœˆâ€ã€â€œ3æœˆâ€ã€â€œ9æœˆâ€ç­‰è¡¨è¿°ï¼Œåº”ç»“åˆå½“å‰æ—¶é—´è‡ªåŠ¨è¯†åˆ«å¹¶è½¬æ¢ä¸ºå¯¹åº”æœˆä»½ï¼ˆä¾‹å¦‚å½“å‰æ—¶é—´ä¸º2025å¹´6æœˆï¼Œæåˆ°â€œä¸Šæœˆâ€ï¼Œåˆ™\
            \ month = \"2025-05\"ï¼‰\r\nâœ… è¡¥ç­¾åŸå¸‚ {city}ï¼šæå–å‘˜å·¥è¡¥å¡æ‰€åœ¨åŸå¸‚ã€‚è‹¥æœªæåŠï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚\r\nâœ…\
            \ æ ‡è¯† {flag}ï¼š\r\n  1ã€å¦‚æœç”¨æˆ·æä¾›äº†å®Œæ•´çš„å¹´æœˆæ—¥ä¿¡æ¯ï¼ˆå¦‚â€œ5æœˆ30æ—¥â€æˆ–â€œ30å·â€ç­‰ï¼‰ï¼Œåˆ™è®¾ç½®ä¸º trueï¼›\r\n  2ã€å¦‚æœç”¨æˆ·æœªæä¾›å…·ä½“æ—¥æœŸï¼ˆå¦‚ä»…è¯´â€œè¡¥å¡18:00â€ã€â€œæœ€è¿‘ä¸€æ¬¡å¿˜è®°æ‰“å¡â€ç­‰æ¨¡ç³Šæè¿°ï¼‰ï¼Œåˆ™è®¾ç½®ä¸º\
            \ falseã€‚\r\né»˜è®¤æƒ…å†µä¸‹ï¼Œè‹¥æ— æ³•åˆ¤æ–­æ—¥æœŸä¿¡æ¯æ˜¯å¦å®Œæ•´ï¼Œè¯·æ ¹æ®è¯­ä¹‰åˆç†åˆ¤æ–­ã€‚è‹¥æ— ä»»ä½•æ—¶é—´ä¿¡æ¯ï¼Œåˆ™ flag åº”è®¾ä¸º falseã€‚\r\
            \nè¯·ç¡®ä¿è¾“å‡ºä¸¥æ ¼éµå¾ªæ ¼å¼ï¼Œä¸æ·»åŠ ä»»ä½•é¢å¤–ä¿¡æ¯æˆ–è§£é‡Šã€‚è‹¥æŸäº›å­—æ®µæ— æ³•è¯†åˆ«ï¼Œè¯·æŒ‰ä¸Šè¿°è§„åˆ™ä½¿ç”¨é»˜è®¤å€¼ã€‚\r\n\r\n### æ­¥éª¤4ï¼šç¤ºä¾‹è¾“å‡º\r\
            \nç¤ºä¾‹è¾“å…¥ï¼š\r\næˆ‘åœ¨5æœˆ30æ—¥ä¸‹åˆ2ç‚¹å¿˜è®°æ‰“å¡ï¼Œå½“æ—¶æˆ‘åœ¨åŒ—äº¬åŠå…¬å®¤ï¼Œéº»çƒ¦å¸®æˆ‘è¡¥å¡ã€‚\r\nç¤ºä¾‹è¾“å‡ºï¼š\r\n{\r\n  \"punchInTime\"\
            : \"2025-05-30 14:00:00\",\r\n  \"month\": \"2025-05\",\r\n  \"city\"\
            : \"åŒ—äº¬\",\r\n  \"flag\": true\r\n}\r\n\r\n### æ­¥éª¤5ï¼šç»å¯¹ç¦æ­¢æ·»åŠ ï¼š\r\nâŒ é™¤äº†ç”¨æˆ·è¾“å…¥ä»¥å¤–çš„å…¶ä»–æ—¶é—´ï¼Œç¦æ­¢èµ‹äºˆè”æƒ³çš„æ—¶é—´ï¼Œæ²¡æœ‰æ—¶åˆ†ç§’æ—¶ï¼Œé»˜è®¤ä½¿ç”¨00:00:00\r\
            \nâŒ åˆ†ææ€§è¯­å¥ï¼ˆå¦‚\"æ ¹æ®åˆ†æ...\"ï¼‰\r\nâŒ è§£é‡Šæ€§æ‹¬å·å†…å®¹\r\nâŒ ä»»ä½•éæŒ‡å®šæ ¼å¼æ–‡æœ¬\r\nâŒ ä»»ä½•æ ‡é¢˜\r\n\r\n\
            å½“å‰è¾“å…¥: {{ query }}"
          role: system
          text: ''
        - id: 4b659be5-0a44-41e4-8951-68e9399804c2
          role: user
          text: ''
        selected: false
        title: æå–å‚æ•°
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17491765566980'
      position:
        x: 638
        y: 258
      positionAbsolute:
        x: 638
        y: 258
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1 }) {\n    let replaceStr = '';\n    let data;\n\
          \n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```') || arg1.includes('```json')\
          \ || arg1.includes('\\n```')) {\n        replaceStr = extractJson(arg1).replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if\
          \ (isJSON(replaceStr)) {\n        data = JSON.parse(replaceStr);\n    }\
          \ else {\n        data = { \"punchInTime\": \"\", \"month\": \"\" };\n \
          \   }\n    \n    return {\n        result: data.punchInTime\n    };\n}\n\
          \n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction convertDateFormat(s) { return s.replace(/-/g, '/');\
          \ }\nfunction extractJson(str) { return (/```(?:json)?\\n([\\s\\S]*?)\\\
          n```/.exec(str) || [,str])[1]; }\nfunction isJSON(str) { try{ JSON.parse(str);\
          \ return true } catch(e){ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è·å–è¡¥å¡æ—¶é—´
        type: code
        variables:
        - value_selector:
          - '17491765566980'
          - text
          variable: arg1
      height: 54
      id: '1749177514685'
      position:
        x: 942
        y: 258
      positionAbsolute:
        x: 942
        y: 258
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        api_type: gsm
        cus_tool_configurations:
          areaCode: china
          envid: UAT
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: æœˆä»½ yyyy-MM
            ja_JP: æœˆä»½ yyyy-MM
            pt_BR: æœˆä»½ yyyy-MM
            zh_Hans: æœˆä»½ yyyy-MM
          label:
            en_US: month
            ja_JP: month
            pt_BR: month
            zh_Hans: month
          llm_description: æœˆä»½ yyyy-MM
          max: null
          min: null
          name: month
          options: []
          placeholder:
            en_US: æœˆä»½ yyyy-MM
            ja_JP: æœˆä»½ yyyy-MM
            pt_BR: æœˆä»½ yyyy-MM
            zh_Hans: æœˆä»½ yyyy-MM
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            ja_JP: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            pt_BR: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            zh_Hans: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          label:
            en_US: startDate
            ja_JP: startDate
            pt_BR: startDate
            zh_Hans: startDate
          llm_description: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          max: null
          min: null
          name: startDate
          options: []
          placeholder:
            en_US: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            ja_JP: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            pt_BR: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            zh_Hans: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: ç»“æŸæ—¶é—´ yyyy-MM-dd
            ja_JP: ç»“æŸæ—¶é—´ yyyy-MM-dd
            pt_BR: ç»“æŸæ—¶é—´ yyyy-MM-dd
            zh_Hans: ç»“æŸæ—¶é—´ yyyy-MM-dd
          label:
            en_US: endDate
            ja_JP: endDate
            pt_BR: endDate
            zh_Hans: endDate
          llm_description: ç»“æŸæ—¶é—´ yyyy-MM-dd
          max: null
          min: null
          name: endDate
          options: []
          placeholder:
            en_US: ç»“æŸæ—¶é—´ yyyy-MM-dd
            ja_JP: ç»“æŸæ—¶é—´ yyyy-MM-dd
            pt_BR: ç»“æŸæ—¶é—´ yyyy-MM-dd
            zh_Hans: ç»“æŸæ—¶é—´ yyyy-MM-dd
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: 'å‘˜å·¥id  '
            ja_JP: 'å‘˜å·¥id  '
            pt_BR: 'å‘˜å·¥id  '
            zh_Hans: 'å‘˜å·¥id  '
          label:
            en_US: empNo
            ja_JP: empNo
            pt_BR: empNo
            zh_Hans: empNo
          llm_description: 'å‘˜å·¥id  '
          max: null
          min: null
          name: empNo
          options: []
          placeholder:
            en_US: 'å‘˜å·¥id  '
            ja_JP: 'å‘˜å·¥id  '
            pt_BR: 'å‘˜å·¥id  '
            zh_Hans: 'å‘˜å·¥id  '
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          empNo: ''
          endDate: ''
          month: ''
          startDate: ''
        provider_id: fe8f9445-32a8-42b4-a68a-ca523baabf7b
        provider_name: è·å–å¼‚å¸¸æ•°æ®
        provider_type: api
        selected: false
        title: æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆå¿…é¡»ä¸ºæŸä¸ªæœˆï¼‰
        tool_configurations: {}
        tool_description: "æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆå¿…é¡»ä¸ºæŸä¸ªæœˆï¼‰\t"
        tool_label: æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆå¿…é¡»ä¸ºæŸä¸ªæœˆï¼‰
        tool_name: AMS-API0040
        tool_parameters:
          empNo:
            type: mixed
            value: '{{#sys.user_id#}}'
          endDate:
            type: mixed
            value: ''
          month:
            type: mixed
            value: '{{#17491968542370.result#}}'
        type: tool
        version: '2'
      height: 54
      id: '1749182256468'
      position:
        x: 2158
        y: 352
      positionAbsolute:
        x: 2158
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 5
        model:
          completion_params: {}
          mode: chat
          name: AndesGPT-32B
          provider: aisphere/ole/ole
        prompt_config:
          jinja2_variables:
          - value_selector:
            - '1749182256468'
            - text
            variable: text
        prompt_template:
        - edition_type: jinja2
          id: 56080737-005c-4c4e-96ee-b320ec8a5da4
          jinja2_text: "# Markdownè¡¨æ ¼ç”ŸæˆPrompt\r\n# è§’è‰²å®šä½\r\n\r\nä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æå¸ˆï¼Œæ“…é•¿å°†å¤æ‚çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®è½¬åŒ–ä¸ºæ¸…æ™°ã€ç»“æ„åŒ–çš„è¡¨æ ¼æŠ¥å‘Šã€‚ä½ çš„ä¸“é•¿æ˜¯æç‚¼å…³é”®ä¿¡æ¯ï¼Œå¹¶ä»¥æœ€ç›´è§‚çš„è¡¨æ ¼å½¢å¼å‘ˆç°ç»™ç”¨æˆ·ã€‚\r\
            \n\r\n# ä»»åŠ¡æè¿°\r\n1. åˆ†æç”¨æˆ·æŸ¥è¯¢æ„å›¾ï¼Œç†è§£ä»–ä»¬çœŸæ­£å…³æ³¨çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®\r\n2. ä»æä¾›çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®ä¸­æå–å…³é”®ä¿¡æ¯å¹¶è¿›è¡Œå¿…è¦çš„æ±‡æ€»ç»Ÿè®¡\r\
            \n3. è®¾è®¡ä¸“ä¸šã€ç¾è§‚ä¸”ä¿¡æ¯ä¸°å¯Œçš„Markdownè¡¨æ ¼\r\n4. ç¡®ä¿è¡¨æ ¼å‘ˆç°æœ€æœ‰ä»·å€¼çš„æ•°æ®æ´å¯Ÿ\r\n\r\n\r\n# è¡¨æ ¼è®¾è®¡åŸåˆ™\r\
            \n- æ¸…æ™°çš„è¡¨å¤´è®¾è®¡ï¼šä½¿ç”¨ç®€æ´æ˜äº†çš„è¡¨å¤´æè¿°åˆ—å†…å®¹\r\n- åˆç†çš„åˆ—å®½è®¾ç½®ï¼šç¡®ä¿æ•°æ®å¯è¯»æ€§ï¼Œé¿å…è¿‡å®½æˆ–è¿‡çª„\r\n- æ•°æ®æ’åºä¸åˆ†ç»„ï¼šæ ¹æ®åˆ†æé‡ç‚¹å¯¹æ•°æ®è¿›è¡Œåˆç†æ’åºæˆ–åˆ†ç»„\r\
            \n- æ•°æ®æ ¼å¼åŒ–ï¼šå¯¹æ—¶é—´ã€æ•°å€¼ç­‰åº”ç”¨ç»Ÿä¸€çš„æ ¼å¼åŒ–è§„åˆ™\r\n\r\n## æ¢è¡Œç­–ç•¥ï¼ˆæ–°å¢ï¼‰\r\nå½“æŸå•å…ƒæ ¼æ–‡æœ¬é•¿åº¦è¶…è¿‡ 10ä¸ªå­—ç¬¦ æ—¶ï¼Œè‡ªåŠ¨æ’å…¥\
            \ <br> æ ‡ç­¾å®ç°æ¢è¡Œ\r\né€‚ç”¨äºæ‰€æœ‰å­—æ®µå†…å®¹ï¼ˆåŒ…æ‹¬æ—¥æœŸã€æ—¶é—´å’Œåœ°ç‚¹ç­‰ï¼‰\r\nç¤ºä¾‹ï¼š2024å¹´12æœˆ25æ—¥<br>ä¸Šåˆ9:00\r\n\
            \r\n## è®¾ç½®å€¼\r\n - ä»{{ text }}ä¸­è¯†åˆ«å¹¶æ ‡æ³¨ä»¥ä¸‹å­—æ®µï¼š\r\n  âœ… è€ƒå‹¤æ—¥æœŸ{atDate} ()\r\n  âœ…\
            \ é¦–æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°){firstSignTime}{firstSignPosition}\r\n  âœ… æœ«æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°){lastSignTime}{lastSignPosition}\r\
            \n  âœ… ç»“æœ{result}\r\n- {{ text }}ä¸ºç©ºæ—¶ï¼Œè®¾ç½®ä¸º-\r\n- {{ text }}ä¸ºâ€˜æˆ‘è¦è¡¥ç­¾â€™æ—¶ï¼Œè¾“å‡ºè¡¨æ ¼\r\
            \nç¤ºä¾‹è¾“å‡ºæ ¼å¼ï¼š\r\n### è€ƒå‹¤å¼‚å¸¸ç»Ÿè®¡å¦‚ä¸‹ï¼š\r\n\r\n| è€ƒå‹¤æ—¥æœŸ | é¦–æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°) | æœ«æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°) |\
            \ ç»“æœ |\r\n|--------|---------|------------|------------|------------|\r\
            \n| - | - | - | - |\r\n\r\n\r\n- å›¾è¡¨ç»“å°¾æ·»åŠ ï¼š\r\n  ä»¥ä¸‹ä¸ºæ‚¨æ¶‰åŠçš„è€ƒå‹¤å¼‚å¸¸ï¼Œè¯·æ‚¨ç¡®è®¤éœ€è¦è¡¥ç­¾çš„æ—¥æœŸå’Œå…·ä½“æ—¶é—´ï¼Ÿ\r\
            \n- ç»å¯¹ç¦æ­¢æ·»åŠ ï¼š\r\n\r\nâŒ åˆ†ææ€§è¯­å¥ï¼ˆå¦‚\"æ ¹æ®åˆ†æ...\"ï¼‰\r\n\r\nâŒ è§£é‡Šæ€§æ‹¬å·å†…å®¹\r\n\r\nâŒ ä»»ä½•éæŒ‡å®šæ ¼å¼æ–‡æœ¬\r\
            \n\r\nâŒ ä»»ä½•æ ‡é¢˜"
          role: system
          text: '# Markdownè¡¨æ ¼ç”ŸæˆPrompt

            # è§’è‰²å®šä½



            ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ•°æ®åˆ†æå¸ˆï¼Œæ“…é•¿å°†å¤æ‚çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®è½¬åŒ–ä¸ºæ¸…æ™°ã€ç»“æ„åŒ–çš„è¡¨æ ¼æŠ¥å‘Šã€‚ä½ çš„ä¸“é•¿æ˜¯æç‚¼å…³é”®ä¿¡æ¯ï¼Œå¹¶ä»¥æœ€ç›´è§‚çš„è¡¨æ ¼å½¢å¼å‘ˆç°ç»™ç”¨æˆ·ã€‚




            # ä»»åŠ¡æè¿°

            1. åˆ†æç”¨æˆ·æŸ¥è¯¢æ„å›¾ï¼Œç†è§£ä»–ä»¬çœŸæ­£å…³æ³¨çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®

            2. ä»æä¾›çš„è€ƒå‹¤å¼‚å¸¸æ•°æ®ä¸­æå–å…³é”®ä¿¡æ¯å¹¶è¿›è¡Œå¿…è¦çš„æ±‡æ€»ç»Ÿè®¡

            3. è®¾è®¡ä¸“ä¸šã€ç¾è§‚ä¸”ä¿¡æ¯ä¸°å¯Œçš„Markdownè¡¨æ ¼

            4. ç¡®ä¿è¡¨æ ¼å‘ˆç°æœ€æœ‰ä»·å€¼çš„æ•°æ®æ´å¯Ÿ




            # è¡¨æ ¼è®¾è®¡åŸåˆ™

            - æ¸…æ™°çš„è¡¨å¤´è®¾è®¡ï¼šä½¿ç”¨ç®€æ´æ˜äº†çš„è¡¨å¤´æè¿°åˆ—å†…å®¹

            - åˆç†çš„åˆ—å®½è®¾ç½®ï¼šç¡®ä¿æ•°æ®å¯è¯»æ€§ï¼Œé¿å…è¿‡å®½æˆ–è¿‡çª„

            - æ•°æ®æ’åºä¸åˆ†ç»„ï¼šæ ¹æ®åˆ†æé‡ç‚¹å¯¹æ•°æ®è¿›è¡Œåˆç†æ’åºæˆ–åˆ†ç»„

            - æ•°æ®æ ¼å¼åŒ–ï¼šå¯¹æ—¶é—´ã€æ•°å€¼ç­‰åº”ç”¨ç»Ÿä¸€çš„æ ¼å¼åŒ–è§„åˆ™




            # è¾“å‡ºæ ¼å¼



            ## è®¾ç½®å€¼

             - ä»{{ result }}ä¸­è¯†åˆ«å¹¶æ ‡æ³¨ä»¥ä¸‹å­—æ®µï¼š

              âœ… è€ƒå‹¤æ—¥æœŸ{atDate} ()

              âœ… é¦–æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°){firstSignTime}{firstSignPosition}

              âœ… æœ«æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°){lastSignTime}{lastSignPosition}

              âœ… ç»“æœ{result}




            ç¤ºä¾‹è¾“å‡ºæ ¼å¼ï¼š

            #  å½“æœˆè€ƒå‹¤å¼‚å¸¸æ•°æ®ç»Ÿè®¡å¦‚ä¸‹ï¼š



            - ä½¿ç”¨{{ result }}è§£æçš„è¾“å…¥ç»“æœæ›¿æ¢è¡¨æ ¼å†…å®¹

            | è€ƒå‹¤æ—¥æœŸ | é¦–æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°) | æœ«æ¬¡æ‰“å¡æ—¶é—´(æ‰“å¡åœ°) | ç»“æœ |

            |--------|---------|-----------------|-----------------|-----------------|

            | 2025-03-28 | 2025-05-13 06:14:29 (ä¸­å›½å¹¿ä¸œçœæ·±åœ³å¸‚ç¦ç”°åŒº) | 2025-05-13 06:14:56
            (ä¸­å›½å¹¿ä¸œçœæ·±åœ³å¸‚ç¦ç”°åŒº) | æ—·å·¥ |

            | 2025-03-28 | - | 2025-05-13 06:14:56 (ä¸­å›½å¹¿ä¸œçœæ·±åœ³å¸‚ç¦ç”°åŒº) | æ—·å·¥ |




            - å›¾è¡¨ç»“å°¾æ·»åŠ ï¼š

              ä»¥ä¸‹ä¸ºæ‚¨å½“æœˆæ¶‰åŠè€ƒå‹¤å¼‚å¸¸ï¼Œè¯·æ‚¨ç¡®è®¤éœ€è¦è¡¥ç­¾çš„æ—¥æœŸå’Œå…·ä½“æ—¶é—´ï¼Ÿ




            - ç»å¯¹ç¦æ­¢æ·»åŠ ï¼š




            âŒ åˆ†ææ€§è¯­å¥ï¼ˆå¦‚"æ ¹æ®åˆ†æ..."ï¼‰




            âŒ è§£é‡Šæ€§æ‹¬å·å†…å®¹




            âŒ ä»»ä½•éæŒ‡å®šæ ¼å¼æ–‡æœ¬




            âŒ ä»»ä½•æ ‡é¢˜




            âŒ å½“å‰æ—¶é—´'
        selected: false
        title: è¡¨æ ¼ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '1749182329355'
      position:
        x: 2462
        y: 352
      positionAbsolute:
        x: 2462
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1749182329355.text#}}'
        desc: ''
        selected: false
        title: è¾“å‡ºè€ƒå‹¤å¼‚å¸¸æ•°æ®
        type: answer
        variables: []
      height: 104
      id: '1749182350552'
      position:
        x: 2766
        y: 352
      positionAbsolute:
        x: 2766
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1 }) {\n    let replaceStr = '';\n    let data;\n\
          \n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```') || arg1.includes('```json')\
          \ || arg1.includes('\\n```')) {\n        replaceStr = extractJson(arg1).replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    }\n    if (isJSON(replaceStr)) {\n\
          \        data = JSON.parse(replaceStr);\n    }\n\n    return {\n       \
          \ result: data.month\n    };\n}\n\n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction convertDateFormat(s)\
          \ { return s.replace(/-/g, '/'); }\nfunction extractJson(str) { return (/```(?:json)?\\\
          n([\\s\\S]*?)\\n```/.exec(str) || [,str])[1]; }\nfunction isJSON(str) {\
          \ try{ JSON.parse(str); return true } catch(e){ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è·å–å¼‚å¸¸è€ƒå‹¤æœˆä»½
        type: code
        variables:
        - value_selector:
          - '17491765566980'
          - text
          variable: arg1
      height: 54
      id: '17491968542370'
      position:
        x: 942
        y: 352
      positionAbsolute:
        x: 942
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        api_type: gsm
        cus_tool_configurations:
          areaCode: china
          envid: UAT
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å¼€å§‹æ—¶é—´
            ja_JP: å¼€å§‹æ—¶é—´
            pt_BR: å¼€å§‹æ—¶é—´
            zh_Hans: å¼€å§‹æ—¶é—´
          label:
            en_US: startDate
            ja_JP: startDate
            pt_BR: startDate
            zh_Hans: startDate
          llm_description: å¼€å§‹æ—¶é—´
          max: null
          min: null
          name: startDate
          options: []
          placeholder:
            en_US: å¼€å§‹æ—¶é—´
            ja_JP: å¼€å§‹æ—¶é—´
            pt_BR: å¼€å§‹æ—¶é—´
            zh_Hans: å¼€å§‹æ—¶é—´
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: ç»“æŸæ—¶é—´
            ja_JP: ç»“æŸæ—¶é—´
            pt_BR: ç»“æŸæ—¶é—´
            zh_Hans: ç»“æŸæ—¶é—´
          label:
            en_US: endDate
            ja_JP: endDate
            pt_BR: endDate
            zh_Hans: endDate
          llm_description: ç»“æŸæ—¶é—´
          max: null
          min: null
          name: endDate
          options: []
          placeholder:
            en_US: ç»“æŸæ—¶é—´
            ja_JP: ç»“æŸæ—¶é—´
            pt_BR: ç»“æŸæ—¶é—´
            zh_Hans: ç»“æŸæ—¶é—´
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å‘˜å·¥ç¼–ç 
            ja_JP: å‘˜å·¥ç¼–ç 
            pt_BR: å‘˜å·¥ç¼–ç 
            zh_Hans: å‘˜å·¥ç¼–ç 
          label:
            en_US: empNo
            ja_JP: empNo
            pt_BR: empNo
            zh_Hans: empNo
          llm_description: å‘˜å·¥ç¼–ç 
          max: null
          min: null
          name: empNo
          options: []
          placeholder:
            en_US: å‘˜å·¥ç¼–ç 
            ja_JP: å‘˜å·¥ç¼–ç 
            pt_BR: å‘˜å·¥ç¼–ç 
            zh_Hans: å‘˜å·¥ç¼–ç 
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            ja_JP: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            pt_BR: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            zh_Hans: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          label:
            en_US: city
            ja_JP: city
            pt_BR: city
            zh_Hans: city
          llm_description: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          max: null
          min: null
          name: city
          options: []
          placeholder:
            en_US: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            ja_JP: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            pt_BR: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            zh_Hans: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          city: ''
          empNo: ''
          endDate: ''
          startDate: ''
        provider_id: 12b9690c-1b92-4ce1-8f72-cf55e8941124
        provider_name: è·å–åŸå¸‚æ•°æ®
        provider_type: api
        selected: false
        title: æä¾›ä¸€ä¸ªå›½å®¶åŸå¸‚æŸ¥è¯¢æ¥å£
        tool_configurations: {}
        tool_description: æ ¹æ®æ—¶é—´è·å–å…·ä½“åŸå¸‚åç§°è·å–åŸå¸‚æ•°æ®
        tool_label: æä¾›ä¸€ä¸ªå›½å®¶åŸå¸‚æŸ¥è¯¢æ¥å£
        tool_name: CHR-API0175
        tool_parameters:
          city:
            type: mixed
            value: ''
          empNo:
            type: mixed
            value: '{{#sys.user_id#}}'
          endDate:
            type: mixed
            value: '{{#1749630967270.result#}}'
          startDate:
            type: mixed
            value: '{{#1749630967270.result#}}'
        type: tool
        version: '2'
      height: 54
      id: '1749630385506'
      position:
        x: 3070
        y: 500
      positionAbsolute:
        x: 3070
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({arg1, arg2}) {\n    let replaceStr = '';\n\n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n\
          \    if (arg1.includes('```') || arg1.includes('```json') || arg1.includes('\\\
          n```')) {\n        replaceStr = extractJson(arg1).replace(/\\n/g, '').replace(/\\\
          \\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\n/g,\
          \ '').replace(/\\\\\"/g, '\"');\n    }\n\n    // åˆ›å»ºä¸€ä¸ªæ–°çš„ Date å¯¹è±¡\n    const\
          \ date = new Date(replaceStr);\n    \n    // è·å–å¹´ä»½ã€æœˆä»½å’Œæ—¥æœŸ\n    const year\
          \ = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2,\
          \ '0'); // æœˆä»½ä»0å¼€å§‹è®¡æ•°ï¼Œéœ€è¦åŠ 1ï¼Œå¹¶è¡¥é›¶\n    const day = String(date.getDate()).padStart(2,\
          \ '0'); // è¡¥é›¶\n    \n    // æ‹¼æ¥æˆæ‰€éœ€çš„æ ¼å¼\n    let formattedDate = `${year}-${month}-${day}`;\n\
          \n    return {\n        result: formattedDate\n    }\n}\n"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ ¼å¼åŒ–è¡¥å¡æ—¶é—´
        type: code
        variables:
        - value_selector:
          - '1749177514685'
          - result
          variable: arg1
        - value_selector:
          - '1750821313433'
          - result
          variable: arg2
      height: 54
      id: '1749630967270'
      position:
        x: 2766
        y: 525
      positionAbsolute:
        x: 2766
        y: 525
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        api_type: ''
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: '%Y-%m-%d %H:%M:%S'
          form: form
          human_description:
            en_US: Time format in strftime standard.
            ja_JP: Time format in strftime standard.
            pt_BR: Time format in strftime standard.
            zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
          label:
            en_US: Format
            ja_JP: Format
            pt_BR: Format
            zh_Hans: æ ¼å¼
          llm_description: null
          max: null
          min: null
          name: format
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: UTC
          form: form
          human_description:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          label:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          llm_description: null
          max: null
          min: null
          name: timezone
          options:
          - label:
              en_US: UTC
              ja_JP: UTC
              pt_BR: UTC
              zh_Hans: UTC
            value: UTC
          - label:
              en_US: America/New_York
              ja_JP: America/New_York
              pt_BR: America/New_York
              zh_Hans: ç¾æ´²/çº½çº¦
            value: America/New_York
          - label:
              en_US: America/Los_Angeles
              ja_JP: America/Los_Angeles
              pt_BR: America/Los_Angeles
              zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
            value: America/Los_Angeles
          - label:
              en_US: America/Chicago
              ja_JP: America/Chicago
              pt_BR: America/Chicago
              zh_Hans: ç¾æ´²/èŠåŠ å“¥
            value: America/Chicago
          - label:
              en_US: America/Sao_Paulo
              ja_JP: America/Sao_Paulo
              pt_BR: AmÃ©rica/SÃ£o Paulo
              zh_Hans: ç¾æ´²/åœ£ä¿ç½—
            value: America/Sao_Paulo
          - label:
              en_US: Asia/Shanghai
              ja_JP: Asia/Shanghai
              pt_BR: Asia/Shanghai
              zh_Hans: äºšæ´²/ä¸Šæµ·
            value: Asia/Shanghai
          - label:
              en_US: Asia/Ho_Chi_Minh
              ja_JP: Asia/Ho_Chi_Minh
              pt_BR: Ãsia/Ho Chi Minh
              zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
            value: Asia/Ho_Chi_Minh
          - label:
              en_US: Asia/Tokyo
              ja_JP: Asia/Tokyo
              pt_BR: Asia/Tokyo
              zh_Hans: äºšæ´²/ä¸œäº¬
            value: Asia/Tokyo
          - label:
              en_US: Asia/Dubai
              ja_JP: Asia/Dubai
              pt_BR: Asia/Dubai
              zh_Hans: äºšæ´²/è¿ªæ‹œ
            value: Asia/Dubai
          - label:
              en_US: Asia/Kolkata
              ja_JP: Asia/Kolkata
              pt_BR: Asia/Kolkata
              zh_Hans: äºšæ´²/åŠ å°”å„ç­”
            value: Asia/Kolkata
          - label:
              en_US: Asia/Seoul
              ja_JP: Asia/Seoul
              pt_BR: Asia/Seoul
              zh_Hans: äºšæ´²/é¦–å°”
            value: Asia/Seoul
          - label:
              en_US: Asia/Singapore
              ja_JP: Asia/Singapore
              pt_BR: Asia/Singapore
              zh_Hans: äºšæ´²/æ–°åŠ å¡
            value: Asia/Singapore
          - label:
              en_US: Europe/London
              ja_JP: Europe/London
              pt_BR: Europe/London
              zh_Hans: æ¬§æ´²/ä¼¦æ•¦
            value: Europe/London
          - label:
              en_US: Europe/Berlin
              ja_JP: Europe/Berlin
              pt_BR: Europe/Berlin
              zh_Hans: æ¬§æ´²/æŸæ—
            value: Europe/Berlin
          - label:
              en_US: Europe/Moscow
              ja_JP: Europe/Moscow
              pt_BR: Europe/Moscow
              zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
            value: Europe/Moscow
          - label:
              en_US: Australia/Sydney
              ja_JP: Australia/Sydney
              pt_BR: Australia/Sydney
              zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
            value: Australia/Sydney
          - label:
              en_US: Pacific/Auckland
              ja_JP: Pacific/Auckland
              pt_BR: Pacific/Auckland
              zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
            value: Pacific/Auckland
          - label:
              en_US: Africa/Cairo
              ja_JP: Africa/Cairo
              pt_BR: Africa/Cairo
              zh_Hans: éæ´²/å¼€ç½—
            value: Africa/Cairo
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          format: ''
          timezone: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´
        tool_configurations:
          format:
            type: mixed
            value: '%Y-%m-%d %H:%M:%S'
          timezone:
            type: constant
            value: UTC
        tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
        version: '2'
      height: 116
      id: '1749632749725'
      position:
        x: 334
        y: 258
      positionAbsolute:
        x: 334
        y: 258
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: è¦è¡¥ç­¾ã€è¡¥å¡ã€ä¿®æ”¹æ—¶é—´ã€å¤„ç†è€ƒå‹¤å¼‚å¸¸ã€å•ç‹¬çš„æ—¶é—´ï¼ˆå¦‚6å·ï¼‰
        - id: '1750124149986'
          name: æŸ¥çœ‹/äº†è§£è€ƒå‹¤å¼‚å¸¸ï¼ŒæŸ¥çœ‹è€ƒå‹¤æ•°æ®
        desc: ''
        instructions: ''
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: AndesGPT-32B
          provider: aisphere/ole/ole
        query_variable_selector:
        - '1746774995615'
        - sys.query
        selected: false
        title: é—®é¢˜åˆ†ç±»å™¨
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 188
      id: '1749633917418'
      position:
        x: 1854
        y: 352
      positionAbsolute:
        x: 1854
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1}) {\n    // æ£€æŸ¥ arg1 æ˜¯å¦ä¸ºç©º\n    if (!arg1) {\n \
          \       return { result: \"1\" };\n    }\n    // è·å–å½“å‰æ—¥æœŸ\n    const currentDate\
          \ = new Date();\n\n    // è§£æè¾“å…¥æ—¥æœŸå­—ç¬¦ä¸²\n    const [datePart, timePart] = arg1.split('\
          \ ');\n    const [year, month, day] = datePart.split('-').map(Number);\n\
          \    const [hours, minutes, seconds] = timePart.split(':').map(Number);\n\
          \    \n    // åˆ›å»ºè¾“å…¥æ—¥æœŸå¯¹è±¡\n    const inputDateTime = new Date(year, month -\
          \ 1, day, hours, minutes, seconds);\n    \n    // æ¯”è¾ƒå¹´ä»½å’Œæœˆä»½\n    let compare;\n\
          \    if (inputDateTime.getFullYear() < currentDate.getFullYear()) {\n  \
          \      compare = \"1\";\n    } else if (inputDateTime.getFullYear() ===\
          \ currentDate.getFullYear()) {\n        compare = inputDateTime.getMonth()\
          \ <= currentDate.getMonth() ? \"1\" : \"0\";\n    } else {\n        compare\
          \ = \"0\";\n    }\n    \n    return {\n        result: compare\n    };\n\
          }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 'åˆ¤æ–­ä¸šåŠ¡æ—¶é—´æ˜¯å¦å¤§äºå½“å‰æœˆä»½ '
        type: code
        variables:
        - value_selector:
          - '1749177514685'
          - result
          variable: arg1
      height: 54
      id: '1750042027050'
      position:
        x: 1246
        y: 352
      positionAbsolute:
        x: 1246
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 9b149213-0519-42a4-b930-f0f84701a2b8
            value: '1'
            varType: string
            variable_selector:
            - '1750042027050'
            - result
          id: 'true'
          logical_operator: and
        - case_id: 9465c300-8ebb-45ea-984b-2f7f5f4d02b8
          conditions:
          - comparison_operator: contains
            id: e9cc9a87-12a3-44c2-bbd9-2f84f02d0f7e
            value: '0'
            varType: string
            variable_selector:
            - '1750042027050'
            - result
          id: 9465c300-8ebb-45ea-984b-2f7f5f4d02b8
          logical_operator: and
        - case_id: 6b34266a-a0b0-44c9-8fd2-f8d5c14085e2
          conditions:
          - comparison_operator: not empty
            id: 7f2930af-fb8c-4ef1-9e49-990def50047f
            value: ''
            varType: string
            variable_selector:
            - '1750141342617'
            - result
          id: 6b34266a-a0b0-44c9-8fd2-f8d5c14085e2
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 222
      id: '1750042992562'
      position:
        x: 1550
        y: 352
      positionAbsolute:
        x: 1550
        y: 352
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: 'æœªæ¥æœˆä»½æ— æ•°æ®ï¼Œä¸å¯è¿›è¡ŒæŸ¥çœ‹å’Œæ“ä½œ

          '
        desc: ''
        selected: false
        title: æœªæ¥æœˆä»½å›å¤
        type: answer
        variables: []
      height: 102
      id: '1750043010634'
      position:
        x: 1854
        y: 580
      positionAbsolute:
        x: 1854
        y: 580
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1 }) {\n    let replaceStr = '';\n    let data;\n\
          \n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```') || arg1.includes('```json')\
          \ || arg1.includes('\\n```')) {\n        replaceStr = extractJson(arg1).replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if\
          \ (isJSON(replaceStr)) {\n        data = JSON.parse(replaceStr);\n    }\
          \ else {\n        data = { \"punchInTime\": \"\", \"month\": \"\" };\n \
          \   }\n    \n    return {\n        result: data.city\n    };\n}\n\n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\n\
          function convertDateFormat(s) { return s.replace(/-/g, '/'); }\nfunction\
          \ extractJson(str) { return (/```(?:json)?\\n([\\s\\S]*?)\\n```/.exec(str)\
          \ || [,str])[1]; }\nfunction isJSON(str) { try{ JSON.parse(str); return\
          \ true } catch(e){ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è¡¥ç­¾åŸå¸‚è·å–
        type: code
        variables:
        - value_selector:
          - '17491765566980'
          - text
          variable: arg1
      height: 54
      id: '1750141342617'
      position:
        x: 942
        y: 446
      positionAbsolute:
        x: 942
        y: 446
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: æš‚ä¸æ”¯æŒæŸ¥çœ‹å’Œä¿®æ”¹è¡¥ç­¾åŸå¸‚
        desc: ''
        selected: false
        title: 'ä¿®æ”¹è¡¥ç­¾åŸå¸‚å›å¤ '
        type: answer
        variables: []
      height: 102
      id: '17501415130980'
      position:
        x: 1854
        y: 722
      positionAbsolute:
        x: 1854
        y: 722
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1, arg2}) {\n    let replaceStr = '';\n    let data;\n\
          \n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```') || arg1.includes('```json')\
          \ || arg1.includes('\\n```')) {\n        replaceStr = extractJson(arg1).replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if\
          \ (isJSON(replaceStr)) {\n        data = JSON.parse(replaceStr);\n    }\
          \ else {\n        data = { \"punchInTime\": \"\", \"month\": \"\" };\n \
          \   }\n\n    // å¦‚æœæ²¡æœ‰ flag å­—æ®µï¼Œåˆ™è®¾ç½® month ä¸ºå½“å‰æœˆä»½ï¼ˆæ ¼å¼ï¼šyyyy/MMï¼‰\n    if (!data.flag)\
          \ {\n        if(arg2 != null) {\n            data.month = arg2\n       \
          \ }\n    } else {\n            data.month = '0'\n    }\n    \n    return\
          \ {\n        result: data.month\n    };\n}\n\n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction convertDateFormat(s)\
          \ { return s.replace(/-/g, '/'); }\nfunction extractJson(str) { return (/```(?:json)?\\\
          n([\\s\\S]*?)\\n```/.exec(str) || [,str])[1]; }\nfunction isJSON(str) {\
          \ try{ JSON.parse(str); return true } catch(e){ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: è¿½é—®åˆ¤æ–­
        type: code
        variables:
        - value_selector:
          - '17491765566980'
          - text
          variable: arg1
        - value_selector:
          - conversation
          - attendance_month
          variable: arg2
      height: 54
      id: '1750820074014'
      position:
        x: 2158
        y: 500
      positionAbsolute:
        x: 2158
        y: 500
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        api_type: gsm
        cus_tool_configurations:
          areaCode: china
          envid: UAT
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: æœˆä»½ yyyy-MM
            ja_JP: æœˆä»½ yyyy-MM
            pt_BR: æœˆä»½ yyyy-MM
            zh_Hans: æœˆä»½ yyyy-MM
          label:
            en_US: month
            ja_JP: month
            pt_BR: month
            zh_Hans: month
          llm_description: æœˆä»½ yyyy-MM
          max: null
          min: null
          name: month
          options: []
          placeholder:
            en_US: æœˆä»½ yyyy-MM
            ja_JP: æœˆä»½ yyyy-MM
            pt_BR: æœˆä»½ yyyy-MM
            zh_Hans: æœˆä»½ yyyy-MM
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            ja_JP: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            pt_BR: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            zh_Hans: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          label:
            en_US: startDate
            ja_JP: startDate
            pt_BR: startDate
            zh_Hans: startDate
          llm_description: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          max: null
          min: null
          name: startDate
          options: []
          placeholder:
            en_US: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            ja_JP: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            pt_BR: å¼€å§‹æ—¶é—´ yyyy-MM-dd
            zh_Hans: å¼€å§‹æ—¶é—´ yyyy-MM-dd
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: ç»“æŸæ—¶é—´ yyyy-MM-dd
            ja_JP: ç»“æŸæ—¶é—´ yyyy-MM-dd
            pt_BR: ç»“æŸæ—¶é—´ yyyy-MM-dd
            zh_Hans: ç»“æŸæ—¶é—´ yyyy-MM-dd
          label:
            en_US: endDate
            ja_JP: endDate
            pt_BR: endDate
            zh_Hans: endDate
          llm_description: ç»“æŸæ—¶é—´ yyyy-MM-dd
          max: null
          min: null
          name: endDate
          options: []
          placeholder:
            en_US: ç»“æŸæ—¶é—´ yyyy-MM-dd
            ja_JP: ç»“æŸæ—¶é—´ yyyy-MM-dd
            pt_BR: ç»“æŸæ—¶é—´ yyyy-MM-dd
            zh_Hans: ç»“æŸæ—¶é—´ yyyy-MM-dd
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: 'å‘˜å·¥id  '
            ja_JP: 'å‘˜å·¥id  '
            pt_BR: 'å‘˜å·¥id  '
            zh_Hans: 'å‘˜å·¥id  '
          label:
            en_US: empNo
            ja_JP: empNo
            pt_BR: empNo
            zh_Hans: empNo
          llm_description: 'å‘˜å·¥id  '
          max: null
          min: null
          name: empNo
          options: []
          placeholder:
            en_US: 'å‘˜å·¥id  '
            ja_JP: 'å‘˜å·¥id  '
            pt_BR: 'å‘˜å·¥id  '
            zh_Hans: 'å‘˜å·¥id  '
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          empNo: ''
          endDate: ''
          month: ''
          startDate: ''
        provider_id: fe8f9445-32a8-42b4-a68a-ca523baabf7b
        provider_name: è·å–å¼‚å¸¸æ•°æ®
        provider_type: api
        selected: false
        title: æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆç”¨äºæ ¡éªŒåˆ¤æ–­ï¼‰
        tool_configurations: {}
        tool_description: "æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆå¿…é¡»ä¸ºæŸä¸ªæœˆï¼‰\t"
        tool_label: æŸä¸ªæ—¶é—´æ®µçš„å¼‚å¸¸æ•°æ®è·å–ï¼ˆå¿…é¡»ä¸ºæŸä¸ªæœˆï¼‰
        tool_name: AMS-API0040
        tool_parameters:
          empNo:
            type: mixed
            value: '{{#sys.user_id#}}'
          endDate:
            type: mixed
            value: ''
          month:
            type: mixed
            value: '{{#1750820074014.result#}}'
        type: tool
        version: '2'
      height: 54
      id: '17508209761800'
      position:
        x: 2766
        y: 673
      positionAbsolute:
        x: 2766
        y: 673
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "\nfunction main({arg1}) {\n    let replaceStr = '';\n    let data;\n\
          \n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```') || arg1.includes('```json')\
          \ || arg1.includes('\\n```')) {\n        replaceStr = extractJson(arg1).replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\\
          n/g, '').replace(/\\\\\"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if\
          \ (isJSON(replaceStr)) {\n        let dataList = JSON.parse(replaceStr);\n\
          \        if(dataList.data.length === 1) {\n            data = dataList.data[0].atDate\n\
          \            data = data.replace(/\\//g, '-');\n        } else {\n     \
          \       data = \"0\"\n        }\n    } else {\n        data = { \"type\"\
          : \"\"};\n    }\n\n    return {\n        \"result\": data\n    };\n}\n\n\
          // å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction convertDateFormat(s) { return s.replace(/-/g, '/');\
          \ }\nfunction extractJson(str) { return (/```(?:json)?\\n([\\s\\S]*?)\\\
          n```/.exec(str) || [,str])[1]; }\nfunction isJSON(str) { try{ JSON.parse(str);\
          \ return true } catch(e){ return false } }\n"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æå–æ ¡éªŒå‚æ•°
        type: code
        variables:
        - value_selector:
          - '17508209761800'
          - text
          variable: arg1
      height: 54
      id: '1750821313433'
      position:
        x: 3070
        y: 652.4916077329453
      positionAbsolute:
        x: 3070
        y: 652.4916077329453
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: è¯·æ‚¨ç¡®è®¤å…·ä½“éœ€è¦è¡¥ç­¾çš„æ—¥æœŸ
        desc: ''
        selected: false
        title: è¿½é—®
        type: answer
        variables: []
      height: 102
      id: '1750822870797'
      position:
        x: 3678
        y: 624
      positionAbsolute:
        x: 3678
        y: 624
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: 660013b2-a601-4c40-814d-79b1906a338d
            value: '0'
            varType: string
            variable_selector:
            - '1750821313433'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 3
        type: if-else
      height: 126
      id: '1750822947375'
      position:
        x: 3374
        y: 630
      positionAbsolute:
        x: 3374
        y: 630
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is not
            id: 6967d13e-a7e0-42fc-ac0a-9d46f8e17e00
            value: '0'
            varType: string
            variable_selector:
            - '1750820074014'
            - result
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 4
        type: if-else
      height: 126
      id: '1750823584078'
      position:
        x: 2462
        y: 482
      positionAbsolute:
        x: 2462
        y: 482
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({arg1, arg2}) {\n    let replaceStr = '';\n\n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n\
          \    if (arg1.includes('```') || arg1.includes('```json') || arg1.includes('\\\
          n```')) {\n        replaceStr = extractJson(arg1).replace(/\\n/g, '').replace(/\\\
          \\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\n/g,\
          \ '').replace(/\\\\\"/g, '\"');\n    }\n\n    // åˆ›å»ºä¸€ä¸ªæ–°çš„ Date å¯¹è±¡\n    const\
          \ date = new Date(replaceStr);\n    \n    // è·å–å¹´ä»½ã€æœˆä»½å’Œæ—¥æœŸ\n    const year\
          \ = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2,\
          \ '0'); // æœˆä»½ä»0å¼€å§‹è®¡æ•°ï¼Œéœ€è¦åŠ 1ï¼Œå¹¶è¡¥é›¶\n    const day = String(date.getDate()).padStart(2,\
          \ '0'); // è¡¥é›¶\n    const hours = String(date.getHours()).padStart(2, '0');\
          \ // å°æ—¶\n    const minutes = String(date.getMinutes()).padStart(2, '0');\
          \ // åˆ†é’Ÿ\n    const seconds = String(date.getSeconds()).padStart(2, '0');\
          \ // ç§’\n    \n    // æ‹¼æ¥æˆæ‰€éœ€çš„æ ¼å¼ï¼šYYYY-MM-DD HH:mm:ss\n    let formattedDate\
          \ = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n\n    if\
          \ (arg2 !== 0) {\n        formattedDate = arg2 + ` ${hours}:${minutes}:${seconds}`;\n\
          \    }\n    return {\n        result: formattedDate\n    }\n}\n"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: 'ä¿®æ”¹è¡¥å¡æ—¶é—´ '
        type: code
        variables:
        - value_selector:
          - '1749177514685'
          - result
          variable: arg1
        - value_selector:
          - '1750821313433'
          - result
          variable: arg2
      height: 54
      id: '1750840888051'
      position:
        x: 3678
        y: 766
      positionAbsolute:
        x: 3678
        y: 766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({arg1, arg2}) {\n    let replaceStr = '';\n\n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n\
          \    if (arg1.includes('```') || arg1.includes('```json') || arg1.includes('\\\
          n```')) {\n        replaceStr = extractJson(arg1).replace(/\\n/g, '').replace(/\\\
          \\\"/g, '\"');\n    } else {\n        replaceStr = arg1.replace(/\\n/g,\
          \ '').replace(/\\\\\"/g, '\"');\n    }\n\n    // åˆ›å»ºä¸€ä¸ªæ–°çš„ Date å¯¹è±¡\n    const\
          \ date = new Date(replaceStr);\n    \n    // è·å–å¹´ä»½ã€æœˆä»½å’Œæ—¥æœŸ\n    const year\
          \ = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2,\
          \ '0'); // æœˆä»½ä»0å¼€å§‹è®¡æ•°ï¼Œéœ€è¦åŠ 1ï¼Œå¹¶è¡¥é›¶\n    const day = String(date.getDate()).padStart(2,\
          \ '0'); // è¡¥é›¶\n    \n    // æ‹¼æ¥æˆæ‰€éœ€çš„æ ¼å¼\n    let formattedDate = `${year}-${month}-${day}`;\n\
          \n    return {\n        result: formattedDate\n    }\n}\n"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ ¼å¼åŒ–è¡¥å¡æ—¶é—´ (1)
        type: code
        variables:
        - value_selector:
          - '1749177514685'
          - result
          variable: arg1
        - value_selector:
          - '1750821313433'
          - result
          variable: arg2
      height: 54
      id: '17508466673850'
      position:
        x: 3982
        y: 810
      positionAbsolute:
        x: 3982
        y: 810
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        api_type: gsm
        cus_tool_configurations:
          areaCode: china
          envid: UAT
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å¼€å§‹æ—¶é—´
            ja_JP: å¼€å§‹æ—¶é—´
            pt_BR: å¼€å§‹æ—¶é—´
            zh_Hans: å¼€å§‹æ—¶é—´
          label:
            en_US: startDate
            ja_JP: startDate
            pt_BR: startDate
            zh_Hans: startDate
          llm_description: å¼€å§‹æ—¶é—´
          max: null
          min: null
          name: startDate
          options: []
          placeholder:
            en_US: å¼€å§‹æ—¶é—´
            ja_JP: å¼€å§‹æ—¶é—´
            pt_BR: å¼€å§‹æ—¶é—´
            zh_Hans: å¼€å§‹æ—¶é—´
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: ç»“æŸæ—¶é—´
            ja_JP: ç»“æŸæ—¶é—´
            pt_BR: ç»“æŸæ—¶é—´
            zh_Hans: ç»“æŸæ—¶é—´
          label:
            en_US: endDate
            ja_JP: endDate
            pt_BR: endDate
            zh_Hans: endDate
          llm_description: ç»“æŸæ—¶é—´
          max: null
          min: null
          name: endDate
          options: []
          placeholder:
            en_US: ç»“æŸæ—¶é—´
            ja_JP: ç»“æŸæ—¶é—´
            pt_BR: ç»“æŸæ—¶é—´
            zh_Hans: ç»“æŸæ—¶é—´
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: å‘˜å·¥ç¼–ç 
            ja_JP: å‘˜å·¥ç¼–ç 
            pt_BR: å‘˜å·¥ç¼–ç 
            zh_Hans: å‘˜å·¥ç¼–ç 
          label:
            en_US: empNo
            ja_JP: empNo
            pt_BR: empNo
            zh_Hans: empNo
          llm_description: å‘˜å·¥ç¼–ç 
          max: null
          min: null
          name: empNo
          options: []
          placeholder:
            en_US: å‘˜å·¥ç¼–ç 
            ja_JP: å‘˜å·¥ç¼–ç 
            pt_BR: å‘˜å·¥ç¼–ç 
            zh_Hans: å‘˜å·¥ç¼–ç 
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            ja_JP: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            pt_BR: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            zh_Hans: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          label:
            en_US: city
            ja_JP: city
            pt_BR: city
            zh_Hans: city
          llm_description: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          max: null
          min: null
          name: city
          options: []
          placeholder:
            en_US: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            ja_JP: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            pt_BR: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
            zh_Hans: åŸå¸‚åç§°ï¼ˆè¿™ä¸ªå­—æ®µå’Œä¸Šé¢ä¸‰ä¸ªäº’æ–¥ï¼‰
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          city: ''
          empNo: ''
          endDate: ''
          startDate: ''
        provider_id: 12b9690c-1b92-4ce1-8f72-cf55e8941124
        provider_name: è·å–åŸå¸‚æ•°æ®
        provider_type: api
        selected: false
        title: æä¾›ä¸€ä¸ªå›½å®¶åŸå¸‚æŸ¥è¯¢æ¥å£ (1)
        tool_configurations: {}
        tool_description: æ ¹æ®æ—¶é—´è·å–å…·ä½“åŸå¸‚åç§°è·å–åŸå¸‚æ•°æ®
        tool_label: æä¾›ä¸€ä¸ªå›½å®¶åŸå¸‚æŸ¥è¯¢æ¥å£
        tool_name: CHR-API0175
        tool_parameters:
          city:
            type: mixed
            value: ''
          empNo:
            type: mixed
            value: '{{#sys.user_id#}}'
          endDate:
            type: mixed
            value: '{{#17508466673850.result#}}'
          startDate:
            type: mixed
            value: '{{#17508466673850.result#}}'
        type: tool
        version: '2'
      height: 54
      id: '17508466726670'
      position:
        x: 4286
        y: 791
      positionAbsolute:
        x: 4286
        y: 791
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 5
        model:
          completion_params: {}
          mode: chat
          name: AndesGPT-32B
          provider: aisphere/ole/ole
        prompt_template:
        - edition_type: basic
          id: ac1a82d0-b3c8-48aa-bc9b-308d07d8367c
          jinja2_text: ''
          role: system
          text: "# è§’è‰²ä¸ä»»åŠ¡\n\n## Pipelineæ­¥éª¤\n\n### æ­¥éª¤1: æ–‡æœ¬æ ‡å‡†åŒ–\nä½ æ˜¯ä¸€ä¸ªHRä¿¡æ¯å¤„ç†åŠ©æ‰‹ï¼Œè´Ÿè´£ä»ç”¨æˆ·çš„éç»“æ„åŒ–æ–‡æœ¬ä¸­å‡†ç¡®æå–è¡¥ç­¾ä¿¡æ¯ï¼Œæœ€ç»ˆåªè¾“å‡ºJSONå­—å…¸ã€‚è¯·ä¸¥æ ¼éµå¾ªä»¥ä¸‹pipelineæ­¥éª¤ï¼š\n\
            - ä¿®æ­£æ˜æ˜¾çš„é”™åˆ«å­—å’Œç¼©å†™ï¼ˆå¦‚\"è¡¥ç­¾\"â†’\"è¡¥å¡\"ï¼Œï¼‰\n- ç»Ÿä¸€æ—¥æœŸæ ¼å¼ï¼ˆå¦‚\"2024å¹´3æœˆ4æ—¥\"è½¬æ¢ä¸ºå…·ä½“æ—¥æœŸ\"yyyy/MM/dd\
            \ HH:mm:ss\"ï¼‰\n- ç»Ÿä¸€æ—¶é—´æ ¼å¼ï¼ˆå¦‚\"9ç‚¹\"è½¬æ¢ä¸ºå…·ä½“æ—¥æœŸ\"HH:MM\"ï¼‰\n\n### æ­¥éª¤2ï¼šæ—¥æœŸè®¡ç®—å¤„ç†\n-éœ€åŸºäºå½“å‰æ—¥æœŸï¼š{{#1749632749725.text#}}è®¡ç®—å‡ºå‡†ç¡®æ—¶é—´yyyy-mm-dd\n\
            \n### æ­¥éª¤3: è·å–å˜é‡ä¿¡æ¯\n- è¡¥å¡åŸå¸‚ä»{{#17508466726670.text#}}ä¸­è·å–\n- è¡¥å¡æ—¶é—´ä» {{#1750840888051.result#}}ä¸­è·å–\n\
            - è¯·å‡åŸå› ä» {{#sys.query#}}ä¸­æ™ºèƒ½æ€»ç»“ï¼Œåˆ é™¤å¤šä½™å­—æ®µ\n  æ²¡æœ‰åŸå› åˆ™è®¾ç½®ä¸ºç©º\nï¼ˆæ™ºèƒ½è¯†åˆ«ç”¨æˆ·çš„è¯·å‡åŸå› ï¼Œä¸è·å–æ—¶é—´ç›¸å…³ï¼Œä¸è·å–æˆ‘è¦è¡¥ç­¾ç­‰ä¿¡æ¯ï¼Œ\
            \ \n\n### æ­¥éª¤4: å…³é”®ä¿¡æ¯è¯†åˆ«\n- ä»è¯†åˆ«å¹¶æ ‡æ³¨ä»¥ä¸‹å­—æ®µï¼š\n  âœ… è¡¥å¡æ—¶é—´{punchInTime} ï¼ˆç²¾ç¡®åˆ°åˆ†é’Ÿï¼‰\n\
              âœ… è¡¥å¡åŸå¸‚{punchInCity}\n  âœ… è¡¥å¡åŸå¸‚æè¿°{punchInCityDescr}\n  âœ… è¯·å‡åŸå› {reason}(å…³é”®è¯ï¼‰\n\
            \n- æ£€æŸ¥è¯·å‡åŸå› é€»è¾‘(å®Œå…¨æœªæåŠ â†’ æ ‡è®°ä¸º â€™  â€˜)ã€‚\n\n### æ­¥éª¤5ï¼šè¿½é—®æ£€æŸ¥\n- è¡¥ç­¾æ—¶é—´è¿½é—®æ£€æŸ¥é€»è¾‘ï¼šè‹¥è¡¥ç­¾æ—¶é—´ä¸ºnullæˆ–è‹¥è¡¥ç­¾æ—¶é—´ä¸ºnullæˆ–â€œâ€,è¿”å›é”™è¯¯å¹¶è¯¢é—®ç”¨æˆ·ï¼šï¼ˆ\"\
            è¡¥ç­¾éœ€æ˜ç¡®åˆ°æ¯æ—¥å…·ä½“è¡¥ç­¾æ—¶é—´ï¼Œè¯·æ˜ç¡®æ¯æ—¥å®é™…éœ€è¡¥ç­¾çš„æ—¶é—´ï¼Ÿ\"ï¼‰\n\n### æ­¥éª¤6: ç»“æœæ ¼å¼åŒ–\n- ç”Ÿæˆæ ‡å‡†è¡¥ç­¾å•æ ¼å¼ï¼š\n- ä»…è¾“å‡ºæœ€ç»ˆç»“æœçš„JSONç»“æ„åŒ–å­—å…¸,æ ‡å‡†å®ä¾‹ï¼š\n\
              {\n  \"punchInTime\": \"2025/05/30 00:00:00\",\n  \"punchInCity\": \"\
            44190X\",\n  \"punchInCityDescr\": \"ä¸œèå¸‚\",\n  \"reason\": \"\",\n  }\n\
            \n## æ‰§è¡Œè¦æ±‚\n1. å¿…é¡»æŒ‰æ­¥éª¤é¡ºåºæ‰§è¡Œ\n2. å¤±è´¥æ—¶éœ€è¯´æ˜å…·ä½“é—®é¢˜å¹¶åœæ­¢æµç¨‹\n\n##å½“å‰è¡¥ç­¾ä¿¡æ¯ï¼š{{#sys.query#}}\n\
            \n## ä¸¥ä»¤ç¦æ­¢\nè¡¥å¡æ—¶é—´ä»{{#sys.query#}}è·å–\n"
        - id: 4b659be5-0a44-41e4-8951-68e9399804c2
          role: user
          text: '{{#sys.query#}}'
        selected: false
        title: æ‰¹é‡è¡¥å¡å‚æ•°æå– (1)
        type: llm
        variables: []
        vision:
          enabled: false
      height: 90
      id: '17508466791090'
      position:
        x: 4590
        y: 766
      positionAbsolute:
        x: 4590
        y: 766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "function main({ arg1, ttAppUrl, ttAppId, time } = {}) {\n    let replaceStr\
          \ = '';\n    let data;\n\n    // JSONæå–é€»è¾‘ä¿æŒä¸å˜\n    if (arg1.includes('```')\
          \ || arg1.includes('```json') || arg1.includes('\\n```')) {\n        replaceStr\
          \ = extractJson(arg1).replace(/\\n/g, '').replace(/\\\\\"/g, '\"');\n  \
          \  } else {\n        replaceStr = arg1.replace(/\\n/g, '').replace(/\\\\\
          \"/g, '\"');\n    }\n\n    // æ•°æ®ç»“æ„è§£æé€»è¾‘ä¿æŒä¸å˜\n    if (isJSON(replaceStr))\
          \ {\n        let dataList = JSON.parse(replaceStr);\n        data = Array.isArray(dataList)\
          \ ? dataList[dataList.length - 1] : dataList;\n    } else {\n        data\
          \ = { \"type\": \"\", \"query\": replaceStr };\n    }\n\n    // è¡¥ç­¾ç±»å‹åˆ¤æ–­é€»è¾‘\n\
          \    let punchInTime = convertDateFormat(time);\n    const punchInCity =\
          \ data['punchInCity'];\n    const punchInCityDescr = data['punchInCityDescr'];\n\
          \n    // ä¿®å¤ç‚¹1ï¼šæ¨¡æ¿å­—ç¬¦ä¸²å’ŒURLç¼–ç \n    const buildBaseUrl = () => `cloudhub://mult?appid=${ttAppId}&pc=${encodeURIComponent(ttAppUrl)}&pcMode=window&windowSize=small`;\n\
          \n    if (!punchInTime || punchInTime == '' || !punchInCity || punchInCity\
          \ == ''|| !punchInCityDescr || punchInCityDescr == '') {\n        return\
          \ {\n            \"result\": JSON.stringify({\n                \"prompt\"\
          : data.errors || \"è¯·è¡¥å……å…·ä½“æ—¥æœŸå’Œæ—¶é—´ï¼Ÿ\",\n                \"cardType\": \"query\"\
          ,\n                \"btnStatus\": false,\n                \"promptStatus\"\
          : true,\n                \"leaveStatus\": false,\n                \"btnTitle\"\
          : \"å‰å¾€GHRç”³è¯·\",\n                \"btnUrl\": buildBaseUrl() // ä½¿ç”¨ç»Ÿä¸€URLæ„å»ºæ–¹æ³•\n\
          \            }),\n            \"type\": 'card'\n        };\n    }\n\n  \
          \  // æ‹†åˆ†æ—¥æœŸå’Œæ—¶é—´\n    let [punchInTimeBefore, punchInTimeAfter] = punchInTime.split('\
          \ ');\n    if (punchInTimeAfter === \"00:00:00\") {\n      punchInTimeAfter\
          \ = \"\";\n      punchInTime = punchInTimeBefore\n    }\n    const reason\
          \ = data['reason'];\n    // ä¿®å¤ç‚¹3ï¼šå®‰å…¨çš„URLå‚æ•°æ„å»º\n    const urlParams = new URLSearchParams({\n\
          \        punchInDate: punchInTimeBefore,\n        punchInTime: punchInTimeAfter,\n\
          \        punchInCity: punchInCity,\n        punchInCityDescr: punchInCityDescr,\n\
          \        punchInRegion: 'CHN',\n        punchInRegionDescr: 'ä¸­å›½',\n    \
          \    reason: reason\n    }).toString();\n\n    // ä¿®å¤ç‚¹4ï¼šé¿å…åŒ&&ç¬¦å·\n    const\
          \ formUrl = `${ttAppUrl}?${urlParams}`;\n    const encodedUrl = encodeURIComponent(formUrl);\n\
          \n    // ä¿®å¤ç‚¹5ï¼šæ­£ç¡®çš„æ¨¡æ¿å­—ç¬¦ä¸²\n    const btnUrl = `cloudhub://mult?appid=${ttAppId}&pc=${encodedUrl}&pcMode=window&windowSize=small&mobileMode=drawerHalf&mobile=${encodedUrl}`;\n\
          \n    return {\n        \"result\": JSON.stringify({\n            \"btnTitle\"\
          : \"å‰å¾€å®Œå–„ä¿¡æ¯\",\n            \"cardType\": \"time\",\n            \"punchInTime\"\
          : punchInTime,\n            \"punchInCity\": punchInCity,\n            \"\
          punchInCityDescr\": punchInCityDescr,\n            \"reason\": reason,\n\
          \            \"btnUrl\": btnUrl,\n            \"promptStatus\": false,\n\
          \            \"leaveStatus\": true,\n            \"prompt\": \"\",\n   \
          \         \"leaveTitle\": \"è¯·ç¡®è®¤è¡¥ç­¾ä¿¡æ¯\",\n            \"leaveDesc\": \"\"\n\
          \        }),\n        \"type\": 'card'\n    };\n\n}\n\n// å·¥å…·å‡½æ•°ä¿æŒä¸å˜\nfunction\
          \ convertDateFormat(s) { return s.replace(/-/g, '/'); }\nfunction extractJson(str)\
          \ { return (/```(?:json)?\\n([\\s\\S]*?)\\n```/.exec(str) || [,str])[1];\
          \ }\nfunction isJSON(str) { try{ JSON.parse(str); return true } catch(e){\
          \ return false } }"
        code_language: javascript
        desc: ''
        outputs:
          result:
            children: null
            type: string
          type:
            children: null
            type: string
        selected: false
        title: æ‰¹é‡è¡¥å¡æ•°æ®å¤„ç† (1)
        type: code
        variables:
        - value_selector:
          - env
          - TT_INDEX_URL
          variable: ttAppUrl
        - value_selector:
          - '17508466791090'
          - text
          variable: arg1
        - value_selector:
          - env
          - TT_APP_ID
          variable: ttAppId
        - value_selector:
          - '1750840888051'
          - result
          variable: time
      height: 54
      id: '17508466855520'
      position:
        x: 4894
        y: 766
      positionAbsolute:
        x: 4894
        y: 766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: card data
            ja_JP: card data
            pt_BR: card data
            zh_Hans: å¡ç‰‡æ•°æ®
          label:
            en_US: card data
            ja_JP: card data
            pt_BR: card data
            zh_Hans: å¡ç‰‡æ•°æ®
          llm_description: card data to be processed
          max: null
          min: null
          name: card_data
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: card template to be processed
            ja_JP: card template to be processed
            pt_BR: card template to be processed
            zh_Hans: å¡ç‰‡æ¨¡æ¿
          label:
            en_US: card template
            ja_JP: card template
            pt_BR: card template
            zh_Hans: å¡ç‰‡æ¨¡æ¿
          llm_description: card template to be processed
          max: null
          min: null
          name: card_template
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: call back url
            ja_JP: call back url
            pt_BR: call back url
            zh_Hans: å›è°ƒåœ°å€
          label:
            en_US: call back url
            ja_JP: call back url
            pt_BR: call back url
            zh_Hans: å›è°ƒåœ°å€
          llm_description: ''
          max: null
          min: null
          name: call_back_url
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: app id
            ja_JP: app id
            pt_BR: app id
            zh_Hans: åº”ç”¨ID
          label:
            en_US: app id
            ja_JP: app id
            pt_BR: app id
            zh_Hans: åº”ç”¨ID
          llm_description: ''
          max: null
          min: null
          name: app_id
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: form
          human_description:
            en_US: env_id
            ja_JP: env_id
            pt_BR: env_id
            zh_Hans: ç¯å¢ƒæ ‡è¯†
          label:
            en_US: env_id
            ja_JP: env_id
            pt_BR: env_id
            zh_Hans: ç¯å¢ƒæ ‡è¯†
          llm_description: ''
          max: null
          min: null
          name: env_id
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          app_id: ''
          call_back_url: ''
          card_data: ''
          card_template: ''
          env_id: ''
        provider_id: aisphere/card_message/card_message
        provider_name: aisphere/card_message/card_message
        provider_type: builtin
        selected: false
        title: æ„å»ºTTå¡ç‰‡æ¶ˆæ¯ (1)
        tool_configurations:
          app_id:
            type: constant
            value: null
          call_back_url:
            type: constant
            value: null
          env_id:
            type: constant
            value: null
        tool_label: æ„å»ºTTå¡ç‰‡æ¶ˆæ¯
        tool_name: build
        tool_parameters:
          card_data:
            type: mixed
            value: '{{#17508466855520.result#}}'
          card_template:
            type: mixed
            value: "{\n\t\"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\"\
              ,\n\t\"type\": \"AdaptiveCard\",\n\t\"body\": [\n\t\t{\n\t\t\t\"_tag\"\
              : \"promptText\",\n\t\t\t\"type\": \"Container\",\n\t\t\t\"spacing\"\
              : \"default\",\n\t\t\t\"isVisible\": \"${promptStatus}\",\n\t\t\t\"\
              items\": [\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"title\",\n\t\t\t\t\t\"\
              spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\
              \t\"text\": \"${prompt}\",\n\t\t\t\t\t\"wrap\": true\n\t\t\t\t}\n\t\t\
              \t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"Container\",\n\t\t\t\"isVisible\"\
              : \"${!promptStatus}\",\n\t\t\t\"spacing\": \"default\",\n\t\t\t\"items\"\
              : [\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"title\",\n\t\t\t\t\t\"spacing\"\
              : \"Medium\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\"size\"\
              : \"Medium\",\n\t\t\t\t\t\"weight\": \"Bolder\",\n\t\t\t\t\t\"maxLines\"\
              : 1,\n\t\t\t\t\t\"text\": \"${leaveTitle}\",\n\t\t\t\t\t\"wrap\": true\n\
              \t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"_tag\": \"leaveType\",\n\t\t\t\t\t\
              \"spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"ColumnSet\",\n\t\t\t\
              \t\t\"columns\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\"\
              ,\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\
              \t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\
              \t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\
              \"text\": \"**æ—¶é—´**\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\
              \t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\
              \t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\t\t\t\"items\"\
              : [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\
              \t\t\t\t\t\t\t\t\t\"text\": \"${punchInTime}\"\n\t\t\t\t\t\t\t\t}\n\t\
              \t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\
              \t\t\t\t\"_tag\": \"endTime\",\n\t\t\t\t\t\"spacing\": \"Medium\",\n\
              \t\t\t\t\t\"type\": \"ColumnSet\",\n\t\t\t\t\t\"columns\": [\n\t\t\t\
              \t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\t\t\"verticalContentAlignment\"\
              : \"Center\",\n\t\t\t\t\t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"\
              items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\"\
              ,\n\t\t\t\t\t\t\t\t\t\"text\": \"**åŸå¸‚**\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\
              \t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"\
              Column\",\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\
              \t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"\
              type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\"text\": \"${punchInCityDescr}\"\
              \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\
              \t\t\t},\n                {\n\t\t\t\t\t\"_tag\": \"endTime\",\n\t\t\t\
              \t\t\"spacing\": \"Medium\",\n\t\t\t\t\t\"type\": \"ColumnSet\",\n\t\
              \t\t\t\t\"columns\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\"\
              ,\n\t\t\t\t\t\t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\
              \t\t\t\"width\": \"50px\",\n\t\t\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t\
              \t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\t\t\t\t\t\
              \"text\": \"**åŸå› **\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\
              \t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"type\": \"Column\",\n\t\t\t\t\t\
              \t\t\"verticalContentAlignment\": \"Center\",\n\t\t\t\t\t\t\t\"items\"\
              : [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"type\": \"TextBlock\",\n\
              \t\t\t\t\t\t\t\t\t\"text\": \"${reason}\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\
              \t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\
              \t\t\"_tag\": \"text\",\n\t\t\t\t\t\"type\": \"TextBlock\",\n\t\t\t\t\
              \t\"maxLines\": 2,\n\t\t\t\t\t\"text\": \"${leaveDesc}\",\n\t\t\t\t\t\
              \"wrap\": true\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"\
              ActionSet\",\n\t\t\t\"spacing\": \"Medium\",\n\t\t\t\"isVisible\": \"\
              ${btnStatus}\",\n\t\t\t\"actions\": [\n\t\t\t\t{\n\t\t\t\t\t\"style\"\
              : \"positive\",\n\t\t\t\t\t\"type\": \"Action.OpenUrl\",\n\t\t\t\t\t\
              \"title\": \"${btnTitle}\",\n\t\t\t\t\t\"url\": \"${btnUrl}\"\n\t\t\t\
              \t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"_tag\": \"feet\",\n\t\t\t\"isVisible\"\
              : \"${!promptStatus}\",\n\t\t\t\"type\": \"TextBlock\",\n\t\t\t\"color\"\
              : \"light\",\n\t\t\t\"maxLines\": 2,\n\t\t\t\"text\": \"ä»¥ä¸Šå†…å®¹ç”±æ¬§ä¹è¯†åˆ«å¡«å†™ï¼Œè¯·ç‚¹å‡»æŒ‰é’®å‰å¾€ç¡®è®¤ã€‚\"\
              ,\n\t\t\t\"wrap\": true\n\t\t}\n\t],\n\t\"version\": \"1.4\"\n}"
        type: tool
        version: '2'
      height: 142
      id: '17508466906930'
      position:
        x: 5198
        y: 766
      positionAbsolute:
        x: 5198
        y: 766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#17508466906930.text#}}'
        desc: ''
        selected: false
        title: 'ç›´æ¥å›å¤ '
        type: answer
        variables: []
      height: 104
      id: '17508466944030'
      position:
        x: 5563.7113173507805
        y: 766
      positionAbsolute:
        x: 5563.7113173507805
        y: 766
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '17491968542370'
          - result
          variable_selector:
          - conversation
          - attendance_month
          write_mode: over-write
        selected: false
        title: å­˜å‚¨å¼‚å¸¸è€ƒå‹¤æœˆä»½
        type: assigner
        version: '2'
      height: 86
      id: '1750853573301'
      position:
        x: 2158
        y: 594
      positionAbsolute:
        x: 2158
        y: 594
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -5114.707764602596
      y: -458.4306593106305
      zoom: 1.2187707886145762